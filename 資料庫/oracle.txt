===========================================================================================================
===========================================================================================================
===========================================================================================================
===========================================================================================================
===========================================================================================================
===========================================================================================================
===========================================================================================================
===========================================================================================================
ðŸ”¹ Oracle çš„æ®µï¼ˆSegmentï¼‰ç¨®é¡ž
1. æ•¸æ“šæ®µï¼ˆData Segmentï¼‰

ç”¨ä¾†å­˜æ”¾ è³‡æ–™è¡¨ï¼ˆTableï¼‰ çš„å¯¦éš›è³‡æ–™ã€‚

æ¯ç•¶å»ºç«‹ä¸€å¼µè¡¨ï¼ŒOracle å°±æœƒç‚ºå®ƒå»ºç«‹ä¸€å€‹æ•¸æ“šæ®µã€‚

è¡¨ä¸­çš„æ¯ä¸€ç­† rowï¼ˆè³‡æ–™åˆ—ï¼‰ éƒ½æœƒå­˜æ”¾åœ¨æ•¸æ“šæ®µè£¡ã€‚

ðŸ“Œ ä¾‹ï¼šå­¸ç”Ÿ è³‡æ–™è¡¨ä¸­çš„æ‰€æœ‰å­¸ç”Ÿè¨˜éŒ„ï¼Œéƒ½å­˜åœ¨ã€Œæ•¸æ“šæ®µã€ã€‚

2. ç´¢å¼•æ®µï¼ˆIndex Segmentï¼‰

ç”¨ä¾†å­˜æ”¾ ç´¢å¼•ï¼ˆIndexï¼‰ çš„è³‡æ–™ã€‚

ç´¢å¼•æ˜¯ä¸€ç¨®åŠ é€ŸæŸ¥è©¢çš„è³‡æ–™çµæ§‹ï¼ˆé€šå¸¸æ˜¯ B-Tree æˆ– Bitmapï¼‰ã€‚

æ¯å€‹ç´¢å¼•éƒ½æœƒæœ‰ä¸€å€‹å°æ‡‰çš„ç´¢å¼•æ®µï¼Œç¨ç«‹æ–¼æ•¸æ“šæ®µã€‚

ðŸ“Œ ä¾‹ï¼šå¦‚æžœåœ¨ å­¸ç”Ÿ(å­¸è™Ÿ) å»ºç«‹ç´¢å¼•ï¼Œé‚£ å­¸è™Ÿ çš„ç´¢å¼•å°±å­˜æ”¾åœ¨ã€Œç´¢å¼•æ®µã€ã€‚

3. è‡¨æ™‚æ®µï¼ˆTemporary Segmentï¼‰

ç”¨ä¾†å­˜æ”¾ è‡¨æ™‚è³‡æ–™ï¼ˆæŸ¥è©¢éŽç¨‹ä¸­éœ€è¦çš„ä¸­é–“çµæžœï¼‰ã€‚

ä¾‹å¦‚ï¼šORDER BYã€GROUP BYã€å»ºç«‹ç´¢å¼•æ™‚ï¼ŒOracle æœƒç”¨è‡¨æ™‚æ®µå­˜æ”¾è¨ˆç®—éŽç¨‹ã€‚

ç•¶æ“ä½œå®Œæˆå¾Œï¼Œè‡¨æ™‚æ®µæœƒè¢«é‡‹æ”¾ï¼ˆæˆ–é‡è¤‡åˆ©ç”¨ TEMP è¡¨ç©ºé–“ï¼‰ã€‚

ðŸ“Œ ä¾‹ï¼šSELECT * FROM å­¸ç”Ÿ ORDER BY å§“å â†’ æŽ’åºæ™‚ä½¿ç”¨ã€Œè‡¨æ™‚æ®µã€ã€‚

4. å›žæ»¾æ®µï¼ˆRollback Segment / Undo Segmentï¼‰

ç”¨ä¾†å­˜æ”¾äº‹å‹™ä¸­ ä¿®æ”¹å‰çš„èˆŠå€¼ï¼Œç¢ºä¿äº‹å‹™æ”¯æ´ å›žæ»¾ (ROLLBACK) èˆ‡ è®€ä¸€è‡´æ€§ (Read Consistency)ã€‚

ç•¶ä¸€å€‹äº‹å‹™è¦å›žæ»¾æ™‚ï¼ŒOracle æœƒåˆ©ç”¨å›žæ»¾æ®µä¸­çš„èˆŠå€¼é‚„åŽŸè³‡æ–™ã€‚

12c ä¹‹å¾Œï¼Œå›žæ»¾æ®µæ”¹ç¨± Undo Segmentã€‚

ðŸ“Œ ä¾‹ï¼š

UPDATE å­¸ç”Ÿ SET å§“å='å°å¼·' WHERE å­¸è™Ÿ='S001';


ðŸ‘‰ Oracle æœƒæŠŠã€Œä¿®æ”¹å‰çš„å§“åï¼ˆå°æ˜Žï¼‰ã€å­˜åˆ°å›žæ»¾æ®µï¼Œå¦‚æžœäº‹å‹™å¤±æ•—æˆ– ROLLBACKï¼Œå¯ä»¥é‚„åŽŸã€‚

ðŸ”¹ ç¸½çµå°ç…§è¡¨
æ®µ (Segment)	ä½œç”¨	ä¾‹å­
æ•¸æ“šæ®µ (Data Segment)	å­˜æ”¾è³‡æ–™è¡¨çš„å¯¦éš›è³‡æ–™	å­¸ç”Ÿè¡¨ çš„æ‰€æœ‰è¨˜éŒ„
ç´¢å¼•æ®µ (Index Segment)	å­˜æ”¾ç´¢å¼•çµæ§‹	å­¸ç”Ÿ(å­¸è™Ÿ) ç´¢å¼•
è‡¨æ™‚æ®µ (Temporary Segment)	å­˜æ”¾æŽ’åº/æŸ¥è©¢çš„ä¸­é–“çµæžœ	ORDER BY å§“å
å›žæ»¾æ®µ (Rollback / Undo Segment)	å­˜æ”¾ä¿®æ”¹å‰çš„èˆŠå€¼ï¼Œæ”¯æ´å›žæ»¾èˆ‡ä¸€è‡´æ€§	UPDATE å‰çš„èˆŠè³‡æ–™

âœ… ä¸€å¥è©±ç¸½çµï¼š
Oracle çš„ã€Œæ®µã€å°±æ˜¯è³‡æ–™åº«å­˜æ”¾ä¸åŒé¡žåž‹è³‡è¨Šçš„é‚è¼¯å€å¡Šï¼š

æ•¸æ“šæ®µå­˜è³‡æ–™

ç´¢å¼•æ®µå­˜ç´¢å¼•

è‡¨æ™‚æ®µå­˜ä¸­é–“çµæžœ

å›žæ»¾æ®µå­˜èˆŠè³‡æ–™ï¼ˆæ”¯æ´äº‹å‹™ï¼‰
===========================================================================================================
ä¸€ã€Oracle Databaseã€Œç‰ˆæœ¬ä»£è™Ÿã€ (Release Naming)

Oracle åœ¨ä¸åŒæ™‚ä»£ç”¨ä¸åŒå­—æ¯ä¾†ä»£è¡¨ç”¢å“ç‰¹æ€§ï¼š

ç‰ˆæœ¬	ä»£è™Ÿå«ç¾©	ç¯„ä¾‹
V (Version)	æœ€æ—©çš„ç‰ˆæœ¬å‘½åï¼ŒV2ï¼ˆ1979 å¹´ï¼Œä¸–ç•Œç¬¬ä¸€å€‹å•†æ¥­ SQL RDBMSï¼‰	Oracle V2
i (Internet)	æ”¯æ´ Internet æ‡‰ç”¨ï¼ˆJava, XML, Web æŠ€è¡“ï¼‰	Oracle 8i, 9i
g (Grid)	æ”¯æ´ Grid Computingï¼ˆç¶²æ ¼é‹ç®—ï¼‰	Oracle 10g, 11g
c (Cloud)	æ”¯æ´ Cloud Computingï¼ˆé›²ç«¯ã€å¤šç§Ÿæˆ¶æž¶æ§‹ CDB/PDBï¼‰	Oracle 12c
æ•¸å­—å¹´è™ŸåŒ–	ç›´æŽ¥ç”¨å¹´ä»½è¡¨ç¤ºç‰ˆæœ¬	Oracle 18c (2018), 19c (2019, LTS), 21c (2021)

ðŸ‘‰ ç›®å‰ä¼æ¥­æœ€å¸¸ç”¨çš„æ˜¯ Oracle 19cï¼ˆé•·æœŸæ”¯æ´ç‰ˆï¼Œæœ€ç©©å®šï¼‰ã€‚

ðŸ”¹ äºŒã€Oracle Databaseã€Œç”¢å“ç‰ˆæœ¬ã€ (Editions)

ä¸åŒç‰ˆæœ¬ï¼ˆEditionï¼‰åŠŸèƒ½å·®ç•°ï¼Œæ±ºå®šäº†ä½ èƒ½ç”¨çš„åŠŸèƒ½å’ŒæŽˆæ¬Šæ¨¡å¼ï¼š

Edition	ç°¡ç¨±	åŠŸèƒ½ & é©ç”¨æƒ…å¢ƒ
Enterprise Edition	EE	åŠŸèƒ½æœ€å®Œæ•´ï¼ˆRAC, Partition, é«˜å¯ç”¨æ€§, é«˜éšŽå®‰å…¨æ€§ï¼‰ï¼Œå¤§ä¼æ¥­æ ¸å¿ƒç³»çµ±ä½¿ç”¨ï¼ŒæŽˆæ¬Šæœ€è²´
Standard Edition / Standard Edition 2	SE / SE2	åŠŸèƒ½è¼ƒå°‘ï¼ˆä¸æ”¯æ´ RACã€éƒ¨åˆ†é«˜éšŽåŠŸèƒ½ï¼‰ï¼Œé™åˆ¶ CPU æ•¸ï¼Œé©åˆä¸­å°ä¼æ¥­
Express Edition	XE	å…è²»ï¼ŒåŠŸèƒ½æœ‰é™åˆ¶ï¼ˆ2 CPU, 2GB RAM, 12GB DB é™åˆ¶ï¼‰ï¼Œç”¨æ–¼å­¸ç¿’/æ¸¬è©¦/å°åž‹æ‡‰ç”¨
Personal Edition	PE	å¹¾ä¹Žç­‰åŒ EEï¼Œä½†åƒ…é™å–®æ©Ÿï¼Œé©åˆé–‹ç™¼äººå“¡æœ¬æ©Ÿé–‹ç™¼
Lite Edition	â€“	æ—©æœŸæ‰æœ‰ï¼Œå¾Œä¾†åœç”¨

âœ… ç¸½çµä¸€å¥è©±ï¼š

ã€ŒV/i/g/cã€æ˜¯ç‰ˆæœ¬ä»£è™Ÿ â†’ èªªæ˜Žç•¶æ™‚ Oracle çš„è¨­è¨ˆæ–¹å‘ï¼ˆInternetã€Gridã€Cloud...ï¼‰ã€‚

ã€ŒEE/SE/XE...ã€æ˜¯ç”¢å“ç‰ˆæœ¬ â†’ æ±ºå®šä½ èƒ½ç”¨çš„åŠŸèƒ½å¤šå°‘ã€æŽˆæ¬Šæ¨¡å¼ï¼Œä»¥åŠæˆæœ¬ã€‚
===========================================================================================================
é—œè¯å¼è³‡æ–™åº«ï¼ˆRelational Database, RDBï¼‰ æ˜¯ç›®å‰æœ€å¸¸è¦‹çš„è³‡æ–™åº«æ¨¡åž‹ï¼Œä¾‹å¦‚ MySQLã€PostgreSQLã€SQL Serverã€Oracle ç­‰ã€‚å®ƒçš„æ ¸å¿ƒæ¦‚å¿µæ˜¯ç”¨ è¡¨æ ¼ï¼ˆTableï¼‰ ä¾†å„²å­˜è³‡æ–™ï¼Œä¸¦é€éŽã€Œé—œè¯ï¼ˆRelationï¼‰ã€é€£çµä¸åŒçš„è¡¨æ ¼ã€‚

ðŸ”¹ é—œè¯å¼è³‡æ–™åº«çš„ä¸»è¦ç‰¹æ€§
1. è¡¨æ ¼çµæ§‹åŒ–ï¼ˆStructured as Tablesï¼‰

è³‡æ–™ä»¥ è¡Œï¼ˆRow, Tupleï¼‰ å’Œ åˆ—ï¼ˆColumn, Attributeï¼‰ çš„æ–¹å¼å„²å­˜ã€‚

æ¯ä¸€è¡Œæ˜¯ä¸€ç­†è³‡æ–™ï¼ˆå¯¦é«”ï¼‰ï¼Œæ¯ä¸€åˆ—æ˜¯ä¸€å€‹æ¬„ä½ï¼ˆå±¬æ€§ï¼‰ã€‚

ä¾‹ï¼šå­¸ç”Ÿ è³‡æ–™è¡¨

å­¸è™Ÿ	å§“å	ç³»æ‰€
S001	å°æ˜Ž	è³‡å·¥
S002	å°è¯	è³‡ç®¡
2. é—œè¯æ€§ï¼ˆRelationships Between Tablesï¼‰

è¡¨æ ¼ä¹‹é–“å¯ä»¥é€éŽ ä¸»éµï¼ˆPrimary Keyï¼‰ å’Œ å¤–éµï¼ˆForeign Keyï¼‰ ä¾†å»ºç«‹é—œè¯ã€‚

æ”¯æ´ ä¸€å°ä¸€ã€ä¸€å°å¤šã€å¤šå°å¤š çš„é—œä¿‚ã€‚

ä¾‹ï¼š

å­¸ç”Ÿ(å­¸è™Ÿ) â†â†’ é¸èª²(å­¸è™Ÿ, èª²ç¨‹ç·¨è™Ÿ) â†â†’ èª²ç¨‹(èª²ç¨‹ç·¨è™Ÿ)

3. æ•¸æ“šä¸€è‡´æ€§ï¼ˆData Integrityï¼‰

é—œè¯å¼è³‡æ–™åº«æä¾›å¤šç¨® å®Œæ•´æ€§ç´„æŸï¼ˆIntegrity Constraintsï¼‰ï¼š

å¯¦é«”å®Œæ•´æ€§ï¼šæ¯ä¸€ç­†è³‡æ–™æœ‰å”¯ä¸€çš„ä¸»éµï¼ˆPrimary Keyï¼‰ã€‚

åƒè€ƒå®Œæ•´æ€§ï¼šå¤–éµï¼ˆForeign Keyï¼‰å¿…é ˆå°æ‡‰åˆ°å¦ä¸€å¼µè¡¨ä¸­çš„æœ‰æ•ˆè³‡æ–™ã€‚

åŸŸå®Œæ•´æ€§ï¼šæ¬„ä½çš„è³‡æ–™åž‹åˆ¥å’Œå€¼å¿…é ˆåˆæ³•ï¼ˆä¾‹å¦‚ å¹´é½¡ ä¸èƒ½æ˜¯è² æ•¸ï¼‰ã€‚

4. SQL èªžè¨€æ”¯æ´

ä½¿ç”¨ SQLï¼ˆStructured Query Languageï¼‰ ä¾†é€²è¡Œè³‡æ–™å®šç¾©ï¼ˆDDLï¼‰ã€æ“ä½œï¼ˆDMLï¼‰ã€æŸ¥è©¢ï¼ˆDQLï¼‰èˆ‡æŽ§åˆ¶ï¼ˆTCLï¼‰ã€‚

è®“ä½¿ç”¨è€…èƒ½å¤ æ–¹ä¾¿åœ°é€²è¡Œ æ–°å¢žã€åˆªé™¤ã€ä¿®æ”¹ã€æŸ¥è©¢ã€‚

5. äº‹å‹™ç®¡ç†ï¼ˆTransaction Managementï¼‰

æ”¯æ´ ACID ç‰¹æ€§ï¼ˆåŽŸå­æ€§ã€ä¸€è‡´æ€§ã€éš”é›¢æ€§ã€æŒä¹…æ€§ï¼‰ã€‚

ç¢ºä¿è³‡æ–™åœ¨å¤šç”¨æˆ¶å­˜å–æ™‚ä»ç„¶æ­£ç¢ºï¼Œä¸æœƒå‡ºç¾éŒ¯äº‚ã€‚

6. æ•¸æ“šç¨ç«‹æ€§ï¼ˆData Independenceï¼‰

é‚è¼¯ç¨ç«‹æ€§ï¼šä¿®æ”¹è³‡æ–™è¡¨çš„çµæ§‹ï¼Œä¸ä¸€å®šæœƒå½±éŸ¿æ‡‰ç”¨ç¨‹å¼ã€‚

ç‰©ç†ç¨ç«‹æ€§ï¼šåº•å±¤å­˜æ”¾æ–¹å¼æ”¹è®Šï¼Œä¸å½±éŸ¿ SQL æ“ä½œã€‚

7. é«˜å¯æ“´å±•æ€§èˆ‡å®‰å…¨æ€§

æä¾›ä½¿ç”¨è€…ã€è§’è‰²ã€æ¬Šé™ç®¡ç†ã€‚

æ”¯æ´å¤§è¦æ¨¡è³‡æ–™è™•ç†èˆ‡ç´¢å¼•ï¼ˆIndexï¼‰å„ªåŒ–æŸ¥è©¢ã€‚
===========================================================================================================
ðŸ”¹ 1. å¯¦é«”ï¼ˆEntityï¼‰

ã€Œå¯¦é«”ã€æ˜¯ ç¾å¯¦ä¸–ç•Œä¸­å¯è¢«æ˜Žç¢ºå€åˆ†çš„å€‹é«”ã€‚

åœ¨è³‡æ–™åº«è£¡ï¼Œé€šå¸¸å°æ‡‰åˆ°ä¸€ç­†ã€Œè³‡æ–™åˆ—ï¼ˆrow, recordï¼‰ã€ã€‚

ä¾‹ï¼šæŸå€‹å­¸ç”Ÿï¼ˆå­¸è™Ÿ S001ã€åå­—å°æ˜Žï¼‰å°±æ˜¯ä¸€å€‹ã€Œå¯¦é«”ã€ã€‚

ðŸ”¹ 2. å¯¦é«”åž‹ï¼ˆEntity Typeï¼‰

å¯¦é«”åž‹ å°±æ˜¯ã€ŒæŸä¸€é¡žå¯¦é«”çš„åž‹åˆ¥æˆ–æè¿°ã€ï¼Œå¯ä»¥ç†è§£ç‚ºã€Œé¡žåˆ¥ï¼ˆclassï¼‰ã€ã€‚

å®ƒæè¿°ä¸€ç¾¤æ€§è³ªç›¸åŒçš„ç‰©ä»¶æ‡‰è©²æœ‰å“ªäº›å±¬æ€§ã€‚

åœ¨è³‡æ–™åº«è£¡ï¼Œé€šå¸¸å°æ‡‰åˆ°ä¸€å¼µã€Œè³‡æ–™è¡¨ï¼ˆtable schemaï¼‰ã€ã€‚

ðŸ“Œ ä¾‹å­ï¼š

å­¸ç”Ÿï¼ˆStudentï¼‰å°±æ˜¯ä¸€å€‹å¯¦é«”åž‹ã€‚

å®ƒå®šç¾©äº†å­¸ç”Ÿæ‡‰è©²æœ‰çš„å±¬æ€§ï¼šå­¸è™Ÿã€å§“åã€ç”Ÿæ—¥ã€‚

ðŸ”¹ 3. å¯¦é«”é›†ï¼ˆEntity Setï¼‰

å¯¦é«”é›† æ˜¯æŸå€‹å¯¦é«”åž‹ä¸‹ï¼Œæ‰€æœ‰ã€Œå¯¦é«”çš„é›†åˆã€ã€‚

åœ¨è³‡æ–™åº«è£¡ï¼Œå°æ‡‰åˆ°ã€Œè³‡æ–™è¡¨ä¸­æ‰€æœ‰çš„è³‡æ–™åˆ—ã€ã€‚

ðŸ“Œ ä¾‹å­ï¼š

å¦‚æžœã€Œå­¸ç”Ÿã€æ˜¯å¯¦é«”åž‹ï¼Œé‚£éº¼æ‰€æœ‰åœ¨æ ¡å­¸ç”Ÿï¼ˆå°æ˜Žã€å°è¯ã€å°ç¾Žâ€¦ï¼‰å°±æ˜¯ã€Œå­¸ç”Ÿå¯¦é«”é›†ã€ã€‚

ç”¨ SQL è¡¨ç¤ºï¼š

å­¸ç”Ÿ (S001, å°æ˜Ž, 2001-01-01)

å­¸ç”Ÿ (S002, å°è¯, 2002-02-02)

å­¸ç”Ÿ (S003, å°ç¾Ž, 2001-03-03)
â†’ é€™äº›åŠ èµ·ä¾†å°±æ˜¯ã€Œå­¸ç”Ÿå¯¦é«”é›†ã€ã€‚

ðŸ”¹ ç°¡å–®å°ç…§è¡¨
æ¦‚å¿µ	èªªæ˜Ž	è³‡æ–™åº«å°æ‡‰	ç¯„ä¾‹
å¯¦é«”ï¼ˆEntityï¼‰	ç¾å¯¦ä¸–ç•Œä¸­çš„ã€Œå€‹é«”ã€	ä¸€ç­†è³‡æ–™ï¼ˆrowï¼‰	å­¸è™Ÿ S001 çš„å°æ˜Ž
å¯¦é«”åž‹ï¼ˆEntity Typeï¼‰	æè¿°ä¸€é¡žå¯¦é«”çš„ã€Œåž‹åˆ¥ã€	è³‡æ–™è¡¨çš„çµæ§‹ï¼ˆschemaï¼‰	å­¸ç”Ÿ (å­¸è™Ÿ, å§“å, ç”Ÿæ—¥)
å¯¦é«”é›†ï¼ˆEntity Setï¼‰	æŸå€‹å¯¦é«”åž‹ä¸‹æ‰€æœ‰å¯¦é«”çš„é›†åˆ	æ•´å¼µè³‡æ–™è¡¨ï¼ˆtableï¼‰	å­¸ç”Ÿè¡¨è£¡çš„æ‰€æœ‰å­¸ç”Ÿè³‡æ–™

âœ… ä¸€å¥è©±ç¸½çµï¼š

å¯¦é«”åž‹ï¼šè¦æ ¼ â†’ å®šç¾©ã€Œå­¸ç”Ÿã€æ‡‰è©²æœ‰å“ªäº›å±¬æ€§

å¯¦é«”ï¼šå€‹é«” â†’ å°æ˜Žæ˜¯æŸå€‹å­¸ç”Ÿ

å¯¦é«”é›†ï¼šç¾¤é«” â†’ å­¸ç”Ÿè¡¨è£¡çš„æ‰€æœ‰å­¸ç”Ÿ
===========================================================================================================
ER åœ–ï¼ˆEntity-Relationship Diagramï¼Œå¯¦é«”é—œè¯åœ–ï¼‰ æ˜¯è³‡æ–™åº«è¨­è¨ˆä¸­å¸¸ç”¨çš„åœ–è¡¨ï¼Œç”¨ä¾†æè¿° è³‡æ–™åº«çš„çµæ§‹ï¼Œç‰¹åˆ¥æ˜¯ã€Œè³‡æ–™è¡¨ä¹‹é–“çš„é—œä¿‚ã€ã€‚

ðŸ”¹ ER åœ–çš„åŸºæœ¬å…ƒç´ 

Entityï¼ˆå¯¦é«”ï¼‰

å°±æ˜¯ç¾å¯¦ä¸–ç•Œä¸­çš„ã€Œç‰©ä»¶ã€æˆ–ã€Œæ¦‚å¿µã€ï¼Œåœ¨è³‡æ–™åº«è£¡é€šå¸¸æœƒè®Šæˆä¸€å¼µã€Œè³‡æ–™è¡¨ã€ã€‚

ç”¨ çŸ©å½¢ è¡¨ç¤ºã€‚

ä¾‹å¦‚ï¼šå­¸ç”Ÿã€èª²ç¨‹ã€è¨‚å–®ã€‚

Attributeï¼ˆå±¬æ€§ï¼‰

å¯¦é«”çš„ç‰¹å¾µï¼Œä¹Ÿå°±æ˜¯ã€Œæ¬„ä½ã€ã€‚

ç”¨ æ©¢åœ“å½¢ è¡¨ç¤ºã€‚

ä¾‹å¦‚ï¼šå­¸ç”Ÿ æœ‰ å­¸è™Ÿã€å§“åã€ç”Ÿæ—¥ã€‚

Relationshipï¼ˆé—œè¯ï¼‰

å¯¦é«”ä¹‹é–“çš„é—œä¿‚ã€‚

ç”¨ è±å½¢ è¡¨ç¤ºã€‚

ä¾‹å¦‚ï¼šå­¸ç”Ÿ é¸ä¿® èª²ç¨‹ã€‚

ðŸ”¹ é—œä¿‚çš„ç¨®é¡ž

åœ¨ ER åœ–ä¸­ï¼Œå¯¦é«”ä¹‹é–“çš„é—œä¿‚æœ‰å¹¾ç¨®å¸¸è¦‹é¡žåž‹ï¼š

ä¸€å°ä¸€ (1:1)

ä¸€å€‹å¯¦é«”å°æ‡‰åˆ°å¦ä¸€å€‹å¯¦é«”çš„ã€Œå”¯ä¸€ã€è³‡æ–™ã€‚

ä¾‹ï¼šæ¯å€‹äººåªæœ‰ä¸€å€‹èº«åˆ†è­‰ã€‚

ä¸€å°å¤š (1:N)

ä¸€å€‹å¯¦é«”å¯ä»¥å°æ‡‰åˆ°å¤šå€‹å¦ä¸€å€‹å¯¦é«”ã€‚

ä¾‹ï¼šä¸€å€‹ã€Œè€å¸«ã€å¯ä»¥æ•™å¤šé–€ã€Œèª²ç¨‹ã€ã€‚

å¤šå°å¤š (M:N)

ä¸€å€‹å¯¦é«”çš„å¤šå€‹è³‡æ–™å¯ä»¥å°æ‡‰åˆ°å¦ä¸€å€‹å¯¦é«”çš„å¤šå€‹è³‡æ–™ã€‚

ä¾‹ï¼šå­¸ç”Ÿå¯ä»¥é¸å¤šé–€èª²ç¨‹ï¼Œä¸€é–€èª²ç¨‹ä¹Ÿèƒ½è¢«å¤šå€‹å­¸ç”Ÿé¸ä¿®ã€‚

ðŸ”¹ ER åœ–çš„ç”¨é€”

å¹«åŠ© è³‡æ–™åº«è¨­è¨ˆå¸« è¦åŠƒè¡¨æ ¼å’Œæ¬„ä½ã€‚

æä¾›åœ˜éšŠæºé€šçš„è¦–è¦ºåŒ–æ¨¡åž‹ã€‚

åœ¨ è½‰æ›æˆé—œè¯å¼è³‡æ–™åº« å‰ï¼Œå…ˆæŠŠéœ€æ±‚å…·é«”åŒ–ã€‚

âœ… ä¸€å¥è©±ç¸½çµï¼š
ER åœ–æ˜¯ä¸€ç¨®ç”¨ã€Œåœ–å½¢æ–¹å¼ã€è¨­è¨ˆè³‡æ–™åº«çµæ§‹çš„æ–¹æ³•ï¼ŒæŠŠ å¯¦é«”ï¼ˆè¡¨æ ¼ï¼‰ã€å±¬æ€§ï¼ˆæ¬„ä½ï¼‰ å’Œ é—œè¯ï¼ˆè¡¨æ ¼é—œä¿‚ï¼‰ è¦–è¦ºåŒ–ã€‚
===========================================================================================================
åœ¨è³‡æ–™åº«è£¡ï¼Œäº‹å‹™ï¼ˆTransactionï¼‰ æ˜¯ä¸€å€‹ ä¸å¯åˆ†å‰²çš„å·¥ä½œå–®ä½ï¼Œç”¨ä¾†ç¢ºä¿è³‡æ–™çš„ä¸€è‡´æ€§èˆ‡æ­£ç¢ºæ€§ã€‚

ðŸ”¹ äº‹å‹™çš„å®šç¾©

äº‹å‹™å°±æ˜¯ä¸€çµ„ SQL æ“ä½œï¼ˆé€šå¸¸æ˜¯å¤šå€‹ DML èªžå¥ï¼‰ï¼Œè¦å˜› å…¨éƒ¨æˆåŠŸï¼Œè¦å˜› å…¨éƒ¨å¤±æ•—ã€‚

å¦‚æžœä¸­é€”å‡ºéŒ¯ï¼Œäº‹å‹™å¯ä»¥å›žæ»¾ï¼ˆRollbackï¼‰åˆ°åŸ·è¡Œå‰çš„ç‹€æ…‹ï¼Œé¿å…è³‡æ–™åº«é€²å…¥ã€Œä¸ä¸€è‡´ã€çš„ç‹€æ³ã€‚

ðŸ‘‰ å¯ä»¥æƒ³åƒæˆï¼šã€ŒéŠ€è¡Œè½‰å¸³ã€å°±æ˜¯å…¸åž‹äº‹å‹™ã€‚

A çš„å¸³æˆ¶æ‰£ 100 å…ƒ

B çš„å¸³æˆ¶åŠ  100 å…ƒ
é€™å…©å€‹å‹•ä½œå¿…é ˆåŒæ™‚å®Œæˆï¼›å¦‚æžœåªå®Œæˆä¸€åŠï¼Œè³‡æ–™å°±éŒ¯äº‚äº†ã€‚

ðŸ”¹ äº‹å‹™çš„ 4 å¤§ç‰¹æ€§ï¼ˆACIDï¼‰

äº‹å‹™æœ€é‡è¦çš„å°±æ˜¯ ACID åŽŸå‰‡ï¼š

Atomicityï¼ˆåŽŸå­æ€§ï¼‰

äº‹å‹™ä¸­çš„æ‰€æœ‰æ“ä½œè¦å˜›å…¨éƒ¨å®Œæˆï¼Œè¦å˜›å…¨éƒ¨ä¸åšã€‚

å°±åƒåŽŸå­ä¸å¯å†åˆ†ï¼Œäº‹å‹™ä¹Ÿæ˜¯ã€Œä¸å¯åˆ†å‰²ã€ã€‚

Consistencyï¼ˆä¸€è‡´æ€§ï¼‰

äº‹å‹™åŸ·è¡Œå‰å¾Œï¼Œè³‡æ–™åº«è¦ä¿æŒä¸€è‡´çš„ç‹€æ…‹ã€‚

ä¾‹å¦‚éŠ€è¡Œè½‰å¸³ï¼Œç¸½é‡‘é¡ä¸æœƒæ†‘ç©ºæ¶ˆå¤±æˆ–å¢žåŠ ã€‚

Isolationï¼ˆéš”é›¢æ€§ï¼‰

å¤šå€‹äº‹å‹™åŒæ™‚é€²è¡Œæ™‚ï¼Œå½¼æ­¤ä¸æ‡‰äº’ç›¸å¹²æ“¾ã€‚

å°±åƒåŒæ™‚æœ‰å…©å€‹äººè½‰å¸³ï¼Œçµæžœä¸èƒ½æ··äº‚ã€‚

Durabilityï¼ˆæŒä¹…æ€§ï¼‰

äº‹å‹™ä¸€æ—¦æäº¤ï¼ˆCommitï¼‰ï¼Œçµæžœå°±æœƒæ°¸ä¹…ä¿å­˜åœ¨è³‡æ–™åº«ï¼Œä¸æœƒå› ç³»çµ±æ•…éšœè€Œæ¶ˆå¤±ã€‚

ðŸ”¹ å¸¸è¦‹çš„äº‹å‹™æŽ§åˆ¶æŒ‡ä»¤ (TCL)

BEGIN æˆ– START TRANSACTION â†’ é–‹å§‹äº‹å‹™

COMMIT â†’ æäº¤ï¼Œè®“äº‹å‹™çš„ä¿®æ”¹æ°¸ä¹…ç”Ÿæ•ˆ

ROLLBACK â†’ å›žæ»¾ï¼Œæ’¤éŠ·äº‹å‹™ä¸­çš„æ“ä½œ

SAVEPOINT â†’ è¨­å®šäº‹å‹™çš„å„²å­˜é»žï¼Œå¯ä»¥å›žæ»¾åˆ°ç‰¹å®šä½ç½®
===========================================================================================================
DDLï¼ˆData Definition Languageï¼Œè³‡æ–™å®šç¾©èªžè¨€ï¼‰

ç”¨ä¾† å®šç¾©æˆ–ä¿®æ”¹è³‡æ–™åº«çš„çµæ§‹ï¼Œä¾‹å¦‚å»ºç«‹ã€åˆªé™¤æˆ–ä¿®æ”¹ è³‡æ–™è¡¨ã€ç´¢å¼•ã€æž¶æ§‹ ç­‰ã€‚
å±¬æ–¼ çµæ§‹å±¤ç´šçš„æ“ä½œã€‚

å¸¸è¦‹æŒ‡ä»¤ï¼š

CREATEï¼šå»ºç«‹ï¼ˆè³‡æ–™åº«ã€è³‡æ–™è¡¨ã€ç´¢å¼•â€¦ï¼‰

ALTERï¼šä¿®æ”¹ï¼ˆè³‡æ–™è¡¨çµæ§‹ã€æ¬„ä½åž‹åˆ¥â€¦ï¼‰

DROPï¼šåˆªé™¤ï¼ˆè³‡æ–™è¡¨ã€ç´¢å¼•ã€è³‡æ–™åº«â€¦ï¼‰

TRUNCATEï¼šæ¸…ç©ºè³‡æ–™è¡¨å…§å®¹ï¼ˆä½†ä¿ç•™çµæ§‹ï¼‰

ðŸ“Œ ç‰¹æ€§ï¼š

æœƒç›´æŽ¥å½±éŸ¿è³‡æ–™åº«çµæ§‹ã€‚

å¤šæ•¸ DDL æŒ‡ä»¤åŸ·è¡Œå¾Œ ç„¡æ³•å›žæ»¾ (Rollback)ã€‚

ðŸ”¹ DMLï¼ˆData Manipulation Languageï¼Œè³‡æ–™æ“ä½œèªžè¨€ï¼‰

ç”¨ä¾† æ“ä½œè³‡æ–™å…§å®¹ï¼Œä¾‹å¦‚æ–°å¢žã€åˆªé™¤ã€ä¿®æ”¹æˆ–æŸ¥è©¢è³‡æ–™è¡¨ä¸­çš„è³‡æ–™åˆ—ã€‚
å±¬æ–¼ è³‡æ–™å±¤ç´šçš„æ“ä½œã€‚

å¸¸è¦‹æŒ‡ä»¤ï¼š

INSERTï¼šæ–°å¢žè³‡æ–™

UPDATEï¼šä¿®æ”¹è³‡æ–™

DELETEï¼šåˆªé™¤è³‡æ–™

SELECTï¼šæŸ¥è©¢è³‡æ–™ï¼ˆæœ‰æ™‚è¢«æ­¸é¡žç‚º DQLï¼ŒData Query Languageï¼Œä½†é€šå¸¸ä¹Ÿç®— DMLï¼‰

ðŸ“Œ ç‰¹æ€§ï¼š

ä¸»è¦é‡å° è³‡æ–™æœ¬èº«ã€‚

å¯æ­é… äº¤æ˜“æŽ§åˆ¶èªžè¨€ (TCL)ï¼ˆä¾‹å¦‚ COMMIT, ROLLBACKï¼‰ä¾†æŽ§åˆ¶ã€‚

âœ… ç¸½çµ

DDLï¼šæ”¹ã€Œæˆ¿å­çµæ§‹ã€ â†’ å»ºç«‹/æ‹†é™¤/æ”¹é€ è¡¨æ ¼

DMLï¼šæ”¹ã€Œæˆ¿å­è£¡çš„æ±è¥¿ã€ â†’ æ–°å¢ž/ä¿®æ”¹/åˆªé™¤è³‡æ–™
===========================================================================================================
DBMS: æ•¸æ“šåº«ç®¡ç†ç³»çµ± > ç®¡æ•¸æ“šåº«çš„
ç”¨æˆ¶ > DBMS > ç®¡ç†æ•¸æ“šåº«
ä½æ–¼ç”¨æˆ¶èˆ‡æ“ä½œç³»çµ±ä¹‹é–“çš„ä¸€å±¤æ•¸æ“šç®¡ç†ç³»çµ±
===========================================================================================================
æ•¸æ“š > æ•¸æ“šå­˜æ”¾çš„å€‰åº« < æ•¸æ“šåº«ç®¡ç†ç³»çµ± < æ•¸æ“šåº«ç³»çµ±
===========================================================================================================
æ•¸æ“šåº«ç‰¹é»ž
1.æ°¸ä¹…2.æœ‰çµ„ç¹”3.å¯å…±äº«
===========================================================================================================