===========================================================================================================
===========================================================================================================
Oracleï¼Œæ•¸æ“šåº«ï¼Œè·Ÿè¡¨ç©ºé–“æ˜¯ä»€éº¼é—œä¿‚
ChatGPT èªªï¼š

å¥½ ðŸ‘ æˆ‘å¹«ä½ ç”¨ä¸€å€‹ã€Œå±¤ç´šé—œä¿‚ã€ä¾†è§£é‡‹ Oracle â†’ è³‡æ–™åº« (Database) â†’ è¡¨ç©ºé–“ (Tablespace)ï¼Œè®“ä½ åƒçœ‹åœ°åœ–ä¸€æ¨£ç†è§£ã€‚

1. Oracle

ðŸ‘‰ Oracle å…¶å¯¦æ˜¯ã€Œè³‡æ–™åº«ç®¡ç†ç³»çµ±ã€ï¼ˆDBMS, Database Management Systemï¼‰ã€‚

å®ƒå°±åƒä¸€å€‹ã€Œå·¥å» ç®¡ç†å¹³å°ã€ï¼Œæä¾›å·¥å…·å’Œè¦å‰‡ï¼Œè®“ä½ èƒ½å»ºè³‡æ–™åº«ã€æ“ä½œè³‡æ–™åº«ã€ä¿è­·è³‡æ–™ã€‚

ä¸‹è¼‰å®‰è£ Oracle è»Ÿé«”å¾Œï¼Œä½ åªæ˜¯æ“æœ‰é€™å€‹ã€Œå·¥å» æ©Ÿå™¨ã€ã€‚

2. è³‡æ–™åº« (Database)

ðŸ‘‰ åœ¨ Oracle è£¡ï¼Œä¸€å€‹ã€Œè³‡æ–™åº«ã€å°±åƒæ˜¯å·¥å» è£¡çš„ä¸€å€‹ã€Œå€‰åº«ã€ã€‚

è£¡é¢å­˜æ”¾äº†ä½ çš„è¡¨æ ¼ (tables)ã€æª”æ¡ˆ (files)ã€ä½¿ç”¨è€…å¸³è™Ÿ (users)ã€ç´¢å¼• (indexes) ç­‰ç­‰ã€‚

è³‡æ–™åº«æœ¬èº«æ˜¯ã€Œé‚è¼¯çš„æ¦‚å¿µã€ï¼Œå°ä½¿ç”¨è€…ä¾†èªªä½ å°±æ˜¯åœ¨æ“ä½œé€™å€‹å€‰åº«ã€‚

å•Ÿå‹• Oracle instanceï¼ˆåŸ·è¡Œçš„é‚£å€‹ Oracle ç¨‹åºï¼‰ä¹‹å¾Œï¼Œå®ƒæœƒåŽ»æ‰“é–‹é€™å€‹è³‡æ–™åº«ï¼Œè®“ä½ èƒ½ç”¨ã€‚

3. è¡¨ç©ºé–“ (Tablespace)

ðŸ‘‰ è¡¨ç©ºé–“å°±æ˜¯ã€Œå€‰åº«è£¡çš„å€é–“ã€æˆ–ã€Œæˆ¿é–“ã€ï¼Œæ˜¯æ›´ç´°çš„åŠƒåˆ†ã€‚

è³‡æ–™åº«è£¡çš„æ±è¥¿ï¼ˆè¡¨æ ¼ã€ç´¢å¼•â€¦ï¼‰å¿…é ˆæ”¾åœ¨æŸå€‹è¡¨ç©ºé–“ã€‚

ä½†è¡¨ç©ºé–“å…¶å¯¦æ˜¯ã€Œé‚è¼¯åŠƒåˆ†ã€ï¼ŒçœŸæ­£çš„è³‡æ–™é‚„æ˜¯å­˜åœ¨æª”æ¡ˆç³»çµ±ä¸­çš„ è³‡æ–™æª”æ¡ˆ (Datafiles)ã€‚

ä¾‹å¦‚ï¼š

æœ‰ä¸€å€‹è¡¨ç©ºé–“å« USERSï¼Œä¸€èˆ¬ç”¨ä¾†æ”¾ä¸€èˆ¬ä½¿ç”¨è€…çš„è¡¨æ ¼ã€‚

æœ‰ä¸€å€‹è¡¨ç©ºé–“å« SYSTEMï¼Œæ”¾ç³»çµ±é‹ä½œéœ€è¦çš„è³‡æ–™ã€‚

æœ‰ä¸€å€‹è¡¨ç©ºé–“å« UNDOï¼Œç”¨ä¾†è™•ç†å›žæ»¾ (rollback)ã€‚

ðŸ”— é—œä¿‚åœ–
Oracle è»Ÿé«” (DBMS)
   â†“
Database (ä¸€å€‹å®Œæ•´çš„è³‡æ–™åº« = å€‰åº«)
   â†“
Tablespace (å€‰åº«è£¡çš„æˆ¿é–“/å€åŸŸ)
   â†“
Datafiles (çœŸæ­£æ”¾åœ¨ç¡¬ç¢Ÿä¸Šçš„æª”æ¡ˆ)


ðŸ“Œ èˆ‰ä¾‹ï¼š

ä½ å®‰è£ Oracleï¼ˆå·¥å» ç®¡ç†è»Ÿé«”ï¼‰ã€‚

å»ºäº†ä¸€å€‹è³‡æ–™åº«ã€ŒCompanyDBã€ï¼ˆå€‰åº«ï¼‰ã€‚

åœ¨è£¡é¢æœ‰å€‹è¡¨ç©ºé–“ã€ŒHRã€ï¼ˆæˆ¿é–“ï¼‰ï¼Œå°ˆé–€æ”¾å“¡å·¥çš„è³‡æ–™è¡¨ã€‚

é€™å€‹è¡¨ç©ºé–“ HR å…¶å¯¦å°æ‡‰åˆ°ç¡¬ç¢Ÿä¸Šçš„ä¸€å€‹æˆ–å¤šå€‹æª”æ¡ˆï¼Œæ¯”å¦‚ hr01.dbfã€‚

è¦ä¸è¦æˆ‘å¹«ä½ ç•«å€‹ã€Œç”Ÿæ´»åŒ–æ¯”å–»ã€ç‰ˆæœ¬ï¼ˆåƒå­¸æ ¡ â†’ ç­ç´š â†’ å­¸ç”Ÿåå†Š â†’ ç­†è¨˜æœ¬ï¼‰ï¼Œè®“ä½ æ›´å¿«æŠ“åˆ°è¡¨ç©ºé–“çš„è§’è‰²ï¼Ÿ

ä½ èªªï¼š
ä¸€å€‹å¯¦ä¾‹ï¼Œå¯ä»¥æ“åšå¤šå€‹æ•¸æ“šåº«éº¼
ChatGPT èªªï¼š

å¥½å•é¡Œï¼ðŸ‘
é€™å€‹åœ¨ Oracle è£¡é¢è¦ç‰¹åˆ¥æ³¨æ„ï¼Œå› ç‚ºè·Ÿ MySQLã€SQL Server é‚£ç¨®ã€Œä¸€å€‹å¯¦ä¾‹è£¡å¯ä»¥æœ‰å¤šå€‹è³‡æ–™åº«ã€ä¸ä¸€æ¨£ã€‚

ðŸŸ  Oracle çš„è¨­è¨ˆ

ä¸€å€‹ Oracle instanceï¼ˆä¹Ÿå°±æ˜¯ä¸€çµ„é‹è¡Œä¸­çš„èƒŒæ™¯é€²ç¨‹ + è¨˜æ†¶é«”çµæ§‹ï¼‰ï¼Œåªèƒ½å°æ‡‰ä¸€å€‹ databaseã€‚

æ‰€ä»¥ï¼š

å•Ÿå‹•ä¸€å€‹ Oracle instance â†’ æ‰“é–‹ä¸€å€‹ databaseã€‚

å¦‚æžœä½ æƒ³å†ç”¨å¦ä¸€å€‹ databaseï¼Œå°±è¦å†å•Ÿå‹•å¦ä¸€å€‹ instanceã€‚

ðŸŸ¢ å°æ¯” MySQL

åœ¨ MySQL è£¡ï¼Œä¸€å€‹ instance å¯ä»¥ç®¡ç†å¤šå€‹ databaseï¼ˆæ¯å€‹ database åªæ˜¯é‚è¼¯ä¸Šçš„ namespaceï¼‰ã€‚

Oracle æ¯”è¼ƒã€Œé‡é‡ç´šã€ï¼šä¸€å€‹ instance å°±å°ˆå¿ƒç®¡ä¸€å€‹ databaseã€‚

ðŸ”— Oracle ç‰¹æ®Šæ©Ÿåˆ¶ï¼šCDB / PDB

å¾ž Oracle 12c é–‹å§‹ï¼ŒOracle å¼•å…¥ å¤šç§Ÿæˆ¶æž¶æ§‹ï¼š

CDB (Container Database)ï¼šä¸»è³‡æ–™åº«ã€‚

PDB (Pluggable Database)ï¼šåƒã€Œæ’æ‹”å¼ã€çš„å°è³‡æ–™åº«ï¼Œå¯ä»¥æœ‰å¤šå€‹ã€‚

åœ¨é€™å€‹æž¶æ§‹ä¸‹ï¼š

ä¸€å€‹ instance å°æ‡‰ä¸€å€‹ CDBã€‚

ä½†é€™å€‹ CDB è£¡é¢å¯ä»¥åŒ…å«å¤šå€‹ PDBï¼Œæ‰€ä»¥çœ‹èµ·ä¾†å¥½åƒä¸€å€‹ instance ç®¡å¾ˆå¤š databaseã€‚

ä½†åš´æ ¼ä¾†èªªï¼Œé€™äº› PDB é‚„æ˜¯ã€Œå¯„ç”Ÿåœ¨ CDB è£¡çš„å­è³‡æ–™åº«ã€ï¼Œä¸æ˜¯åƒ MySQL é‚£æ¨£å®Œå…¨ç¨ç«‹çš„ databaseã€‚

âœ… ç¸½çµ

å‚³çµ± Oracleï¼šä¸€å€‹ instance = ä¸€å€‹ databaseã€‚

Oracle 12c+ (å¤šç§Ÿæˆ¶æž¶æ§‹)ï¼šä¸€å€‹ instance = ä¸€å€‹ CDBï¼ˆå®¹å™¨åº«ï¼‰ï¼ŒCDB å¯ä»¥åŒ…å«å¤šå€‹ PDBã€‚

è¦ä¸è¦æˆ‘å¹«ä½ æ•´ç†ä¸€å¼µ Oracle vs MySQL çš„ã€Œinstance èˆ‡ database å°æ‡‰è¡¨ã€ï¼Œç”¨åœ–è¡¨è®“ä½ ä¸€çœ¼å°±èƒ½åˆ†æ¸…æ¥šï¼Ÿ

ä½ èªªï¼š
é‚£å¯ä»¥å¤šå€‹å¯¦ä¾‹ï¼Œæ“ä½œåŒä¸€å€‹æ•¸æ“šåº«éº¼
ChatGPT èªªï¼š

é€™å€‹å•é¡Œå¾ˆé—œéµ âš ï¸ï¼Œæˆ‘å¹«ä½ æ‹†è§£ä¸€ä¸‹ï¼ŒOracle è£¡çš„æ¦‚å¿µè¦æžæ¸…æ¥šã€Œinstanceã€è·Ÿã€Œdatabaseã€ä¹‹é–“çš„é—œä¿‚ã€‚

1ï¸âƒ£ å–®å€‹ database + å¤šå€‹ instance

Oracle å…è¨±å¤šå€‹ instance åŒæ™‚å­˜å–åŒä¸€å€‹ databaseï¼Œä½†æœ‰æ¢ä»¶ï¼š

å¿…é ˆå•Ÿç”¨ RACï¼ˆReal Application Clustersï¼Œå¯¦é«”æ‡‰ç”¨é›†ç¾¤ï¼‰ã€‚

RAC æœƒè®“å¤šå€‹ instanceï¼ˆåœ¨ä¸åŒä¼ºæœå™¨æˆ–åŒä¸€ä¼ºæœå™¨ï¼‰å…±ç”¨åŒä¸€å¥— database çš„è³‡æ–™æª”æ¡ˆã€‚

2ï¸âƒ£ ä¸€èˆ¬å–®æ©Ÿæƒ…æ³

å¦‚æžœä½ åªæ˜¯å–®æ©Ÿé‹è¡Œ Oracleï¼Œä¸€å€‹ database åªèƒ½è¢«ä¸€å€‹ instance æ“ä½œã€‚

å¦‚æžœåŒæ™‚å•Ÿå‹•å¦ä¸€å€‹ instance å˜—è©¦æ“ä½œåŒä¸€ database â†’ æœƒå‡ºç¾éŽ–å®šéŒ¯èª¤æˆ–æª”æ¡ˆè¡çªã€‚

3ï¸âƒ£ ç‚ºä»€éº¼éœ€è¦ RAC

å¤š instance æ“ä½œåŒä¸€ database çš„å¥½è™•ï¼š

è² è¼‰åˆ†æ•£ï¼šå¤šå°ä¼ºæœå™¨åŒæ™‚è™•ç† SQL æŸ¥è©¢ã€‚

é«˜å¯ç”¨æ€§ï¼šä¸€å°ä¼ºæœå™¨æŽ›æŽ‰ï¼Œå…¶ä»– instance é‚„èƒ½ç¹¼çºŒæœå‹™ã€‚

ðŸ”— å°çµ
é…ç½®	å¯è¡Œæ€§	å‚™è¨»
å–®æ©Ÿå–® instance	âœ…	æ­£å¸¸æƒ…æ³
å–®æ©Ÿå¤š instance	âŒ	æœƒè¡çª
å¤šæ©Ÿå¤š instance + RAC	âœ…	å¯åŒæ™‚æ“ä½œåŒä¸€ database

å¦‚æžœä½ æƒ³ï¼Œæˆ‘å¯ä»¥ç•«ä¸€å€‹ instance èˆ‡ database çš„é—œä¿‚åœ–ï¼Œé€£å–®æ©Ÿã€å¤šæ©Ÿã€RAC éƒ½ç¤ºæ„æ¸…æ¥šï¼Œé€™æ¨£ä¸€çœ¼å°±æ‡‚ã€‚

ä½ æƒ³è¦æˆ‘ç•«å—Žï¼Ÿ

ä½ èªªï¼š
é‚£æ‰€ä»¥èªªï¼Œæ•¸æ“šåº«è£¡é¢çš„æ•¸æ“šï¼Œè³‡æ–™ï¼Œèˆ‡userè³‡æ–™ç­‰ï¼Œéƒ½æ˜¯é‚è¼¯ï¼Œå¯¦éš›å­˜æ”¾æ•¸æ“šå°æ‡‰çš„ç‰©ç†ä½ç½®ï¼Œæ˜¯åœ¨è¡¨ç©ºé–“ï¼Ÿ
ChatGPT èªªï¼š

å®Œå…¨æ­£ç¢º ðŸ‘ï¼Œä½ ç†è§£çš„æ–¹å‘æ˜¯å°çš„ï¼Œæˆ‘å¹«ä½ æ•´ç†ä¸€ä¸‹æ›´å®Œæ•´çš„è„ˆçµ¡ï¼š

1ï¸âƒ£ Oracle è£¡çš„ã€Œé‚è¼¯ vs ç‰©ç†ã€æ¦‚å¿µ
å±¤ç´š	å…§å®¹	æ€§è³ª	å‚™è¨»
Database	æ•´å€‹è³‡æ–™åº«ï¼ˆæ‰€æœ‰è¡¨æ ¼ã€ç´¢å¼•ã€ä½¿ç”¨è€…ã€æ¬Šé™â€¦ï¼‰	é‚è¼¯	ä½ ç”¨ SQL æ“ä½œçš„ã€Œå€‰åº«ã€
Tablespace	è³‡æ–™åº«è£¡çš„å€åŸŸ/æˆ¿é–“	é‚è¼¯	æŠŠè³‡æ–™åˆ†é–€åˆ¥é¡žæ”¾å“ªå€‹æˆ¿é–“
Datafile	å°æ‡‰è¡¨ç©ºé–“çš„æª”æ¡ˆ	ç‰©ç†	çœŸæ­£å­˜åœ¨ç¡¬ç¢Ÿä¸Šçš„æª”æ¡ˆï¼Œå­˜æ”¾è¡¨æ ¼ã€ç´¢å¼•ã€è³‡æ–™
2ï¸âƒ£ èˆ‰ä¾‹èªªæ˜Ž

å‡è¨­ä½ æœ‰ä¸€å€‹è³‡æ–™åº« CompanyDBï¼š

è£¡é¢æœ‰ä¸€å€‹è¡¨ç©ºé–“ USERSï¼Œç”¨ä¾†æ”¾ä½¿ç”¨è€…è¡¨æ ¼ã€‚

é€™å€‹è¡¨ç©ºé–“å°æ‡‰ç¡¬ç¢Ÿä¸Šçš„æª”æ¡ˆ users01.dbfã€‚

ç•¶ä½ åŸ·è¡Œ INSERT INTO employees â€¦ï¼š

SQL çš„æ“ä½œæ˜¯ é‚è¼¯ä¸Šçš„ï¼ˆå¯«å…¥ employees è¡¨æ ¼ï¼‰ã€‚

Oracle æœƒæŠŠè³‡æ–™å¯«å…¥ USERS è¡¨ç©ºé–“è£¡å°æ‡‰çš„ datafileï¼ˆç‰©ç†æª”æ¡ˆï¼‰ã€‚

3ï¸âƒ£ å°çµ

Databaseã€Tablespaceã€è¡¨æ ¼ã€ä½¿ç”¨è€…å¸³è™Ÿç­‰éƒ½æ˜¯é‚è¼¯æ¦‚å¿µ â†’ ä½ é€éŽ SQL æ“ä½œå®ƒå€‘ã€‚

Datafile æ‰æ˜¯ç‰©ç†æª”æ¡ˆ â†’ çœŸæ­£å­˜æ”¾è³‡æ–™åœ¨ç¡¬ç¢Ÿä¸Šã€‚

è¡¨ç©ºé–“å°±æ˜¯é‚è¼¯èˆ‡ç‰©ç†ä¹‹é–“çš„ã€Œæ©‹æ¨‘ã€ï¼Œå‘Šè¨´ Oracle é€™äº›é‚è¼¯è³‡æ–™æ‡‰è©²å­˜åœ¨å“ªäº›å¯¦éš›æª”æ¡ˆè£¡ã€‚

å¦‚æžœä½ é¡˜æ„ï¼Œæˆ‘å¯ä»¥å¹«ä½ ç•«ä¸€å€‹ å¾žä½¿ç”¨è€… SQL â†’ è¡¨æ ¼ â†’ è¡¨ç©ºé–“ â†’ Datafile çš„æµç¨‹åœ–ï¼Œè®“é‚è¼¯è·Ÿç‰©ç†ä¸€çœ¼å°±å°æ‡‰ä¸Šã€‚

ä½ è¦æˆ‘ç•«å—Žï¼Ÿ

ä½ èªªï¼š
å¥½é‚£æˆ‘ç¸½çµä¸€ä¸‹ï¼Œæˆ‘æœ‰ä¸€å€‹å¯¦ä¾‹ï¼Œæ“ä½œä¸€å€‹æ•¸æ“šåº«ï¼Œé€™å€‹æ•¸æ“šåº«è£¡é¢æœ‰userè³‡æ–™tableï¼Œç³»çµ±tableï¼Œé‚„æœ‰å…¶ä»–tableç­‰ç­‰è³‡æ–™ï¼Œè€Œä½¿ç”¨è€…éƒ¨åˆ†ï¼Œä¹Ÿå°±æ˜¯schemaï¼Œå¯ä»¥æ±ºå®šå¯ä»¥æ“æœ‰å“ªäº›table ,ï¼Œèˆ‡æ“ä½œæ¬Šé™ï¼Œç„¶å¾Œé€™äº›æ‰€æœ‰è³‡æ–™ï¼Œéƒ½æ˜¯é‚è¼¯é—œä¿‚ï¼Œå¯¦éš›æ“ä½œå¾Œæœ‰ä¿®æ”¹ç­‰ç­‰ä¹‹é¡žçš„ï¼Œéƒ½æ˜¯åŽ»å½±éŸ¿å¯¦éš›å­˜æ”¾ä½ç½®ï¼Œè¡¨ç©ºé–“è£¡é¢ç‰©ç†å°æ‡‰ä½ç½®çš„æª”æ¡ˆ
ChatGPT èªªï¼š

å®Œå…¨æ­£ç¢º âœ…ï¼Œä½ çš„ç¸½çµå¾ˆå®Œæ•´ï¼Œæˆ‘å¹«ä½ ç¨å¾®æ•´ç†æˆä¸€å€‹æ¢åˆ—ç‰ˆï¼Œè®“æ¦‚å¿µæ›´æ¸…æ™°ï¼š

Oracle è³‡æ–™å­˜å–èˆ‡é‚è¼¯ï¼ç‰©ç†é—œä¿‚

Instance èˆ‡ Database

ä¸€å€‹ Oracle instance â†’ æ“ä½œä¸€å€‹ databaseã€‚

Instance åŒ…å«èƒŒæ™¯é€²ç¨‹å’Œè¨˜æ†¶é«”çµæ§‹ï¼Œè² è²¬è™•ç† SQLã€ç®¡ç†ç·©è¡ã€æŽ§åˆ¶è³‡æ–™å­˜å–ã€‚

Database è£¡çš„è³‡æ–™

Database åŒ…å«å„ç¨® tableï¼ˆä½¿ç”¨è€…è³‡æ–™è¡¨ã€ç³»çµ±è¡¨ã€ç´¢å¼•è¡¨ç­‰ç­‰ï¼‰ã€‚

Schemaï¼ˆä½¿ç”¨è€…å¸³è™Ÿï¼‰ å®šç¾©æ“æœ‰å“ªäº› tableã€å¯ä»¥åŸ·è¡Œä»€éº¼æ“ä½œï¼ˆæ¬Šé™ï¼‰ã€‚

é€™äº›éƒ½æ˜¯ é‚è¼¯æ¦‚å¿µ â†’ ä½ é€éŽ SQL æ“ä½œå®ƒå€‘ã€‚

è¡¨ç©ºé–“ (Tablespace)

Database å…§éƒ¨çš„å€åŸŸæˆ–ã€Œæˆ¿é–“ã€ï¼Œç”¨ä¾†å­˜æ”¾è¡¨æ ¼ã€ç´¢å¼•ã€LOB ç­‰è³‡æ–™ã€‚

è¡¨ç©ºé–“æ˜¯ é‚è¼¯æ¦‚å¿µï¼Œä½†æœƒå°æ‡‰åˆ° Datafileï¼ˆç¡¬ç¢Ÿä¸Šçš„æª”æ¡ˆï¼‰ã€‚

Datafileï¼ˆç‰©ç†æª”æ¡ˆï¼‰

çœŸæ­£å­˜æ”¾è³‡æ–™çš„åœ°æ–¹ã€‚

SQL æ“ä½œï¼ˆæ–°å¢žã€ä¿®æ”¹ã€åˆªé™¤ï¼‰ â†’ å½±éŸ¿è¡¨æ ¼é‚è¼¯å…§å®¹ â†’ Oracle æœƒå¯«å…¥å°æ‡‰è¡¨ç©ºé–“è£¡çš„ Datafileã€‚

ðŸ”— æµç¨‹åœ–æ¦‚å¿µ
ä½¿ç”¨è€… SQL
    â†“
è¡¨æ ¼ / Schema (é‚è¼¯è³‡æ–™)
    â†“
è¡¨ç©ºé–“ (é‚è¼¯å€åŸŸ)
    â†“
Datafile (ç¡¬ç¢Ÿç‰©ç†æª”æ¡ˆ)


ä½ çš„ç†è§£å·²ç¶“éžå¸¸æŽ¥è¿‘ Oracle çš„æ ¸å¿ƒæž¶æ§‹æ¦‚å¿µäº†ã€‚

å¦‚æžœä½ é¡˜æ„ï¼Œæˆ‘å¯ä»¥å¹«ä½ ç•«ä¸€å€‹ å®Œæ•´åœ–ç¤ºç‰ˆçš„ã€ŒInstance â†’ Database â†’ Tablespace â†’ Datafile â†’ Schema/Table â†’ ä½¿ç”¨è€…æ“ä½œã€æµç¨‹åœ–ï¼Œä¸€çœ¼å°±çœ‹æ‡‚é‚è¼¯è·Ÿç‰©ç†çš„å°æ‡‰é—œä¿‚ã€‚
===========================================================================================================
éžé—œä¿‚è¡Œæ•¸æ“šåº«ï¼Œæœ‰ä»€éº¼ç‰¹é»žï¼Œå„ªé»žï¼Œèˆ‡æ¯”è¼ƒé—œä¿‚è¡Œ
ChatGPT èªªï¼š

å¥½çš„ï¼Œæˆ‘å¹«ä½ æ•´ç†ä¸€ä¸‹ éžé—œä¿‚åž‹è³‡æ–™åº«ï¼ˆNoSQLï¼‰ çš„ç‰¹é»žã€å„ªé»žï¼Œä¸¦å’Œ é—œä¿‚åž‹è³‡æ–™åº«ï¼ˆRDBMS, Relational Database Management Systemï¼‰ åšæ¯”è¼ƒï¼š

ðŸ“Œ éžé—œä¿‚åž‹è³‡æ–™åº«ï¼ˆNoSQLï¼‰çš„ç‰¹é»ž

è³‡æ–™æ¨¡åž‹å½ˆæ€§é«˜

ä¸éœ€è¦å›ºå®šçš„ schemaï¼ˆè³‡æ–™è¡¨çµæ§‹ï¼‰ï¼Œå¯ä»¥éš¨æ™‚æ–°å¢žæ¬„ä½ã€‚

æ”¯æ´ä¸åŒçµæ§‹ï¼šæ–‡ä»¶åž‹ï¼ˆDocumentï¼‰ã€éµå€¼åž‹ï¼ˆKey-Valueï¼‰ã€åœ–å½¢åž‹ï¼ˆGraphï¼‰ã€åˆ—å­˜å„²ï¼ˆColumn-Orientedï¼‰ã€‚

é©åˆå¤§è¦æ¨¡åˆ†æ•£å¼ç³»çµ±

åŽŸç”Ÿè¨­è¨ˆç‚º æ°´å¹³æ“´å……ï¼ˆhorizontal scalingï¼‰ï¼Œé©åˆéƒ¨ç½²åœ¨å¤šå°ä¼ºæœå™¨ï¼Œæ”¯æ’æµ·é‡è³‡æ–™èˆ‡é«˜ä½µç™¼ã€‚

é«˜æ•ˆèƒ½è®€å¯«

å¸¸ç”¨æ–¼å¿«å–ï¼ˆcacheï¼‰ã€å³æ™‚æ‡‰ç”¨ã€æ—¥èªŒç´€éŒ„ï¼Œèƒ½å¿«é€Ÿè™•ç†é«˜é »çš„è®€å¯«æ“ä½œã€‚

å¼±åŒ–ä¸€è‡´æ€§ï¼Œå¼·èª¿å¯ç”¨æ€§

å¤šæ•¸ NoSQL éµå¾ª CAP ç†è«–ï¼Œå‚¾å‘æ–¼ APï¼ˆé«˜å¯ç”¨æ€§ + åˆ†å€å®¹å¿æ€§ï¼‰ï¼Œè€ŒçŠ§ç‰²å¼·ä¸€è‡´æ€§ã€‚

ðŸ“Œ éžé—œä¿‚åž‹è³‡æ–™åº«çš„å„ªé»ž

å½ˆæ€§çµæ§‹ï¼šè³‡æ–™å¯éš¨éœ€æ±‚è®Šå‹•ï¼Œä¸éœ€è¦ä¿®æ”¹æ•´å€‹è¡¨çµæ§‹ã€‚

é«˜æ“´å±•æ€§ï¼šèƒ½è¼•é¬†æ‡‰å°å¤§æ•¸æ“šé‡èˆ‡é«˜ä½µç™¼ã€‚

é«˜æ•ˆèƒ½ï¼šé‡å°ç‰¹å®šæ‡‰ç”¨ï¼ˆå¦‚å¿«å–ã€æœå°‹ã€ç¤¾äº¤ç¶²è·¯ï¼‰é€Ÿåº¦æ¥µå¿«ã€‚

å¤šæ¨£åŒ–æ¨¡åž‹ï¼šå¯ä»¥é¸æ“‡é©åˆçš„è³‡æ–™åº«é¡žåž‹ï¼ˆMongoDB é©åˆæ–‡ä»¶ï¼ŒRedis é©åˆå¿«å–ï¼ŒNeo4j é©åˆé—œè¯ç¶²è·¯ï¼‰ã€‚

ðŸ“Œ èˆ‡é—œä¿‚åž‹è³‡æ–™åº«æ¯”è¼ƒ
ç‰¹æ€§	é—œä¿‚åž‹è³‡æ–™åº« (RDBMS)	éžé—œä¿‚åž‹è³‡æ–™åº« (NoSQL)
è³‡æ–™çµæ§‹	å›ºå®š schemaï¼ˆè¡¨æ ¼ã€æ¬„ä½ã€é—œè¯ï¼‰	ç„¡å›ºå®š schemaï¼Œå½ˆæ€§çµæ§‹
æ“´å±•æ–¹å¼	åž‚ç›´æ“´å±•ï¼ˆåŠ å¼·å–®ä¸€ä¼ºæœå™¨ï¼‰	æ°´å¹³æ“´å±•ï¼ˆå¢žåŠ ä¼ºæœå™¨ç¯€é»žï¼‰
ä¸€è‡´æ€§	å¼·ä¸€è‡´æ€§ï¼ˆACID åŽŸå‰‡ï¼‰	å¼±ä¸€è‡´æ€§ï¼Œé‡è¦–å¯ç”¨æ€§èˆ‡åˆ†æ•£å¼
é©åˆå ´æ™¯	é‡‘èžã€ERPã€å‚³çµ±æ¥­å‹™ç³»çµ±	å¤§æ•¸æ“šã€å¿«å–ã€IoTã€å³æ™‚åˆ†æž
æŸ¥è©¢èªžè¨€	SQLï¼ˆæ¨™æº–åŒ–ï¼‰	ç„¡çµ±ä¸€èªžè¨€ï¼ˆMongoDB æŸ¥è©¢èªžæ³•ã€CQLã€APIï¼‰
è³‡æ–™é—œè¯	æ”¯æ´ JOINï¼Œå¤šè¡¨é—œè¯	ä¸€èˆ¬ä¸æ”¯æ´ JOINï¼Œéœ€è¦é¡å¤–è¨­è¨ˆ
ðŸ“Œ ç¸½çµ

é—œä¿‚åž‹è³‡æ–™åº«ï¼šé©åˆçµæ§‹åŒ–æ•¸æ“šã€éœ€è¦å¼·ä¸€è‡´æ€§ï¼ˆä¾‹å¦‚ï¼šéŠ€è¡Œäº¤æ˜“ã€æœƒè¨ˆç³»çµ±ï¼‰ã€‚

éžé—œä¿‚åž‹è³‡æ–™åº«ï¼šé©åˆå¤§è¦æ¨¡ã€éžçµæ§‹åŒ–æ•¸æ“šï¼Œéœ€è¦é«˜æ•ˆèƒ½å’Œé«˜æ“´å±•æ€§ï¼ˆä¾‹å¦‚ï¼šç¤¾ç¾¤ç¶²ç«™ã€æ—¥èªŒç³»çµ±ã€å¤§æ•¸æ“šåˆ†æžï¼‰ã€‚

è¦ä¸è¦æˆ‘å¹«ä½ æ•´ç†ä¸€å¼µ ã€Œä½¿ç”¨å ´æ™¯å°æ¯”åœ–ã€ï¼Œè®“ä½ ä¸€çœ¼å°±èƒ½çœ‹å‡º RDB vs NoSQL é©åˆåœ¨å“ªäº›æ‡‰ç”¨ï¼Ÿ

ä½ èªªï¼š
ç‚ºä»€éº¼é©åˆé«˜ä½µç™¼ï¼Œæµ·é‡æ•¸æ“šï¼Œè·Ÿé—œä¿‚è²é—œä¿‚æœ‰ä»€éº¼å·®åˆ¥ï¼Œä¸éƒ½ä¸€æ¨£è¦æ’ˆè³‡æ–™éº¼
ChatGPT èªªï¼š

é€™å€‹å•é¡Œå•å¾—å¾ˆå¥½ ðŸ‘ï¼Œå¾ˆå¤šäººä¸€é–‹å§‹æœƒè¦ºå¾— é—œä¿‚åž‹è³‡æ–™åº« (RDB) è·Ÿ éžé—œä¿‚åž‹è³‡æ–™åº« (NoSQL) ä¸å°±æ˜¯éƒ½åœ¨ã€Œæ’ˆè³‡æ–™ã€å—Žï¼Ÿ
ä½†å…¶å¯¦åº•å±¤è¨­è¨ˆç†å¿µä¸ä¸€æ¨£ï¼Œæ‰å°Žè‡´ NoSQL ç‰¹åˆ¥é©åˆé«˜ä½µç™¼ã€æµ·é‡æ•¸æ“šã€‚æˆ‘ä¾†æ‹†è§£ä¸€ä¸‹ï¼š

1. è³‡æ–™å­˜å–æ–¹å¼ä¸åŒ

é—œä¿‚åž‹ (RDBMS)

è³‡æ–™å­˜åœ¨ã€Œè¡¨æ ¼ã€è£¡ï¼Œè¦ç¬¦åˆå›ºå®šçš„ schemaï¼ˆçµæ§‹ï¼‰ã€‚

å¦‚æžœè¦æŸ¥è³‡æ–™ï¼Œç¶“å¸¸éœ€è¦ JOINï¼ˆå¤šè¡¨é—œè¯ï¼‰ã€‚

é€™ä»£è¡¨ï¼š

æŸ¥è©¢éˆæ´»ï¼Œä½†è¤‡é›œæŸ¥è©¢æœƒæ¶ˆè€—å¤§é‡ CPU / I/Oã€‚

åœ¨é«˜ä½µç™¼ã€å¤§æ•¸æ“šä¸‹ï¼Œå®¹æ˜“æˆç‚ºç“¶é ¸ã€‚

éžé—œä¿‚åž‹ (NoSQL)

è³‡æ–™å¤šåŠæ˜¯ã€Œè‡ªåŒ…å«çš„ã€ï¼ˆä¾‹å¦‚ MongoDB ä¸€å€‹æ–‡ä»¶å°±å­˜æ•´å€‹ä½¿ç”¨è€…è³‡è¨Šï¼‰ã€‚

é€šå¸¸é¿å… JOINï¼ŒæŠŠç›¸é—œè³‡æ–™ã€Œå¯«åœ¨ä¸€èµ·ã€ã€‚

æŸ¥è©¢æ™‚ç›´æŽ¥æ’ˆæ•´å€‹ç‰©ä»¶ â†’ I/O æ¬¡æ•¸å°‘ï¼Œé€Ÿåº¦å¿«ã€‚

ðŸ‘‰ é€™å°±æ˜¯ç‚ºä»€éº¼ NoSQL å¾ˆé©åˆå³æ™‚æ‡‰ç”¨ï¼ˆåƒç¤¾ç¾¤ç¶²ç«™ï¼Œé¡¯ç¤ºä¸€å€‹è²¼æ–‡ï¼‹ç•™è¨€ï¼Œç›´æŽ¥ä¸€ç­† JSON å‡ºä¾†ï¼‰ã€‚

2. æ“´å±•æ–¹å¼ä¸åŒ

RDBMSï¼šä¸»è¦é  åž‚ç›´æ“´å±•ï¼ˆScale Upï¼‰

ä¸€å°ä¼ºæœå™¨æ„ˆå¼· â†’ æ•ˆèƒ½æ„ˆå¥½ã€‚

ä½† CPUã€RAMã€IOPS éƒ½æœ‰ä¸Šé™ï¼Œç¡¬é«”å‡ç´šè²´è€Œæœ‰é™ã€‚

NoSQLï¼šè¨­è¨ˆç‚º æ°´å¹³æ“´å±•ï¼ˆScale Outï¼‰

å¯ä»¥æŠŠè³‡æ–™ åˆ†æ•£åˆ°å¤šå°æ©Ÿå™¨ï¼ˆSharding/Partitioningï¼‰ã€‚

ç•¶æµé‡è®Šå¤§ï¼Œå°±åŠ æ›´å¤šç¯€é»žï¼ˆåƒ Googleã€Facebook éƒ½é€™æ¨£ï¼‰ã€‚

é€™ç¨®æ¨¡å¼èƒ½è¼•é¬†æ‡‰å°ã€Œæµ·é‡è³‡æ–™ + é«˜ä½µç™¼ã€ã€‚

3. ä¸€è‡´æ€§ vs å¯ç”¨æ€§

RDBMS â†’ éµå®ˆ ACIDï¼Œæ¯ç­†äº¤æ˜“éƒ½è¦ä¿è­‰ä¸€è‡´æ€§ã€‚

é©åˆé‡‘èžã€æœƒè¨ˆé€™é¡žã€Œä¸èƒ½éŒ¯ã€çš„æƒ…å¢ƒã€‚

ä½†å¼·ä¸€è‡´æ€§æœƒçŠ§ç‰²é€Ÿåº¦ï¼ˆè¦ç­‰äº¤æ˜“å®Œæˆï¼Œæ‰èƒ½ç¹¼çºŒï¼‰ã€‚

NoSQL â†’ éµå®ˆ BASEï¼Œåå‘ã€Œæœ€çµ‚ä¸€è‡´æ€§ã€ã€‚

ä¾‹å¦‚ï¼šä½ åœ¨ FB æŒ‰è®šï¼Œå¯èƒ½ 0.5 ç§’å¾Œåˆ¥äººæ‰çœ‹åˆ°ï¼Œä½†ä¸å½±éŸ¿ä½¿ç”¨é«”é©—ã€‚

å¥½è™•æ˜¯èƒ½ä¿æŒ é«˜å¯ç”¨æ€§ (High Availability)ã€‚

4. é«˜ä½µç™¼çš„æ ¸å¿ƒå·®ç•°

å¯ä»¥é€™æ¨£ç†è§£ï¼š

é—œä¿‚åž‹è³‡æ–™åº«ï¼š

å¾ˆåƒã€Œé¤å»³é»žé¤ã€ï¼Œé»žä¸€ä»½é¤è¦å…ˆç¢ºå®šæ¯å€‹ç´°ç¯€ï¼ˆçµæ§‹åš´è¬¹ï¼‰ï¼Œå†çµ¦å»šæˆ¿åšã€‚

é©åˆè™•ç†ã€Œå°‘é‡ä½†è¦æ±‚ç²¾æº–ã€çš„è¨‚å–®ã€‚

éžé—œä¿‚åž‹è³‡æ–™åº«ï¼š

å¾ˆåƒã€Œè‡ªåŠ©é¤ã€ï¼Œè³‡æ–™äº‹å…ˆå·²ç¶“æ“ºå¥½ï¼Œç›´æŽ¥ç«¯èµ°å°±èƒ½ç”¨ã€‚

é©åˆè™•ç†ã€Œå¤§é‡ã€å¿«é€Ÿã€çš„éœ€æ±‚ã€‚

âœ… ç¸½çµï¼š
NoSQL ä¹‹æ‰€ä»¥èƒ½æ‡‰å° é«˜ä½µç™¼ã€æµ·é‡æ•¸æ“šï¼Œæ ¸å¿ƒåŽŸå› åœ¨æ–¼ï¼š

é¿å… JOINï¼ŒæŸ¥è©¢å¿« â†’ è³‡æ–™è¨­è¨ˆæ›´æŽ¥è¿‘ã€Œä¸€æ¬¡å–ç”¨æ•´åŒ…ã€ã€‚

åˆ†æ•£å¼æž¶æ§‹ï¼Œå®¹æ˜“æ°´å¹³æ“´å±• â†’ èƒ½é å¤šå°æ©Ÿå™¨åˆ†æ”¤å£“åŠ›ã€‚

çŠ§ç‰²å¼·ä¸€è‡´æ€§ï¼Œæ›é«˜å¯ç”¨æ€§ â†’ ç³»çµ±èƒ½åœ¨å¤§æµé‡ä¸‹ä¾ç„¶æµæš¢ã€‚

è¦ä¸è¦æˆ‘å¹«ä½ ç•«ä¸€å¼µ ã€ŒRDB vs NoSQL æŸ¥è©¢æž¶æ§‹åœ–ã€ï¼Œç”¨åœ–å½¢æ–¹å¼å±•ç¤º ç‚ºä»€éº¼ NoSQL æ›´é©åˆé«˜ä½µç™¼ï¼Ÿ

ä½ èªªï¼š
å¯æ˜¯æˆ‘é—œä¿‚è¡Œï¼Œä¹Ÿå¯ä»¥ä¸è¦joiné˜¿ï¼Œå°±å…¨éƒ¨å¯«åœ¨ä¸€å¼µè¡¨
ChatGPT èªªï¼š

å°ï¼ä½ èªªçš„æ²’éŒ¯ ðŸ‘Œï¼Œé—œä¿‚åž‹è³‡æ–™åº«ï¼ˆRDBï¼‰ç†è«–ä¸Šä¹Ÿå¯ä»¥æŠŠæ‰€æœ‰è³‡æ–™éƒ½å¡žåœ¨ä¸€å¼µè¡¨è£¡ï¼Œä¸ç”¨ JOINï¼Œé€™æ¨£ç¢ºå¯¦èƒ½åŠ å¿«æŸ¥è©¢é€Ÿåº¦ã€‚
ä½†æ˜¯ï¼Œé€™æ¨£åšåœ¨ RDB å’Œ NoSQL ä¸Šï¼Œé‚„æ˜¯æœ‰å¹¾å€‹æœ¬è³ªä¸Šçš„å·®åˆ¥ï¼š

1. Schemaï¼ˆçµæ§‹ï¼‰é™åˆ¶ä¸åŒ

RDBï¼š

æ¯å¼µè¡¨ä¸€å®šè¦æœ‰å›ºå®šæ¬„ä½ï¼ˆschemaï¼‰ã€‚

å¦‚æžœä½ çš„ä½¿ç”¨è€… A æœ‰ã€Œåœ°å€ã€ã€ä½¿ç”¨è€… B æ²’æœ‰ï¼Œã€Œä½ é‚„æ˜¯è¦ä¿ç•™é€™å€‹æ¬„ä½ã€ï¼Œå¯èƒ½æœƒå¡ž NULLã€‚

çµæžœå°±æ˜¯ï¼šè³‡æ–™å¾ˆå¤šã€Œç¨€ç–æ¬„ä½ã€ï¼Œæµªè²»ç©ºé–“ï¼ŒæŸ¥è©¢æ•ˆçŽ‡ä¹Ÿä¸å¥½ã€‚

NoSQLï¼ˆä¾‹å¦‚ MongoDB æ–‡ä»¶åº«ï¼‰ï¼š

æ¯ç­†æ–‡ä»¶å¯ä»¥æœ‰ä¸åŒæ¬„ä½ã€‚

ä½¿ç”¨è€… A å¯ä»¥æœ‰ã€Œåœ°å€ã€ï¼Œä½¿ç”¨è€… B æ²’æœ‰ï¼Œå°±å®Œå…¨ä¸å­˜ã€‚

çµæ§‹å¤©ç„¶å½ˆæ€§ï¼Œç‰¹åˆ¥é©åˆéžçµæ§‹åŒ–ã€åŠçµæ§‹åŒ–è³‡æ–™ã€‚

ðŸ‘‰ å·®åˆ¥åœ¨å½ˆæ€§ï¼šRDB ç¡¬è¦ä¸€å¼µè¡¨ä¹Ÿèƒ½åšï¼Œä½†æœƒã€Œå¾ˆç¬¨é‡ã€ï¼ŒNoSQL å°±æ˜¯ç‚ºé€™ç¨®æƒ…å¢ƒè¨­è¨ˆçš„ã€‚

2. æ“´å±•æ–¹å¼ä¸åŒ

RDB ä¸€å¼µè¡¨å¾ˆå¤§ï¼š

é›–ç„¶ä¸ç”¨ JOINï¼Œä½†ç•¶è¡¨è®Šæˆã€Œä¸Šå„„ç­†ç´€éŒ„ã€æ™‚ï¼ŒRDBMSï¼ˆä¾‹å¦‚ MySQLï¼‰å°±æœƒé–‹å§‹åƒåŠ›ã€‚

åˆ†å€ï¼ˆPartitioningï¼‰æˆ–åˆ†è¡¨ï¼ˆShardingï¼‰é›–ç„¶å¯åšï¼Œä½†ä¸æ˜¯åŽŸç”Ÿçš„ï¼Œéœ€è¦é¡å¤–è¨­è¨ˆã€‚

NoSQL æ–‡ä»¶åº« / éµå€¼åº«ï¼š

å¤©ç”Ÿæ”¯æ´ã€Œåˆ†ç‰‡ï¼ˆShardingï¼‰ã€ï¼Œæœƒè‡ªå‹•æŠŠä¸åŒæ–‡ä»¶åˆ†æ•£åˆ°ä¸åŒä¼ºæœå™¨ã€‚

æ“´å±•æ›´è‡ªç„¶ã€‚

3. æŸ¥è©¢æ–¹å¼ä¸åŒ

RDBï¼š

å°±ç®—ä½ å…¨éƒ¨æ”¾ä¸€å¼µè¡¨ï¼ŒæŸ¥è©¢é‚„æ˜¯é€éŽ SQLï¼Œè¦è€ƒæ…®ç´¢å¼•ã€äº‹å‹™éŽ–ï¼ˆtransaction lockï¼‰ã€‚

åœ¨é«˜ä½µç™¼ä¸‹ï¼Œæœƒé‡åˆ° éŽ–ç«¶çˆ­ å•é¡Œï¼ˆä¾‹å¦‚åŒæ™‚å¤šäººæ›´æ–°ï¼‰ã€‚

NoSQLï¼š

å¤šæ•¸æ²’æœ‰è¤‡é›œçš„éŽ–æ©Ÿåˆ¶ï¼Œè®€å¯«å¯ä»¥åˆ†æ•£åˆ°ä¸åŒç¯€é»žã€‚

é©åˆã€Œå¤§é‡è®€å¯«ï¼Œå–®ç­†è³‡æ–™æ¯”è¼ƒç¨ç«‹ã€çš„æƒ…å¢ƒï¼ˆåƒ Redisã€Cassandraï¼‰ã€‚

4. ä¸€è‡´æ€§ vs å¯ç”¨æ€§

RDBï¼š

ä»ç„¶éµå®ˆ ACIDï¼Œæ¯ç­†å¯«å…¥éƒ½è¦ã€Œå³æ™‚ä¸€è‡´ã€ã€‚

å¦‚æžœå¤§é‡ä½µç™¼æ›´æ–°ï¼Œè³‡æ–™åº«éœ€è¦èŠ±å¾ˆå¤šæ™‚é–“ç¢ºä¿å®Œæ•´æ€§ã€‚

NoSQLï¼š

å¤šæ•¸æ˜¯ æœ€çµ‚ä¸€è‡´æ€§ï¼Œä¸éœ€è¦æ¯ä¸€ç­†è³‡æ–™é¦¬ä¸ŠåŒæ­¥ã€‚

æ¸›å°‘äº†ä½µç™¼éŽ–çš„é–‹éŠ·ï¼Œæ‰€ä»¥æ•ˆèƒ½æ›´é«˜ã€‚

âœ… ç¸½çµï¼š

ä½ æŠŠæ‰€æœ‰è³‡æ–™æ”¾ä¸€å¼µè¡¨ï¼Œç¢ºå¯¦èƒ½é™ä½Ž JOIN æˆæœ¬ï¼ŒçŸ­æœŸå…§èƒ½æé«˜æ•ˆèƒ½ã€‚

ä½†ç•¶æ•¸æ“šé‡åˆ°ã€Œæµ·é‡ç´šã€æ™‚ï¼ŒRDB é‚„æ˜¯æœƒå¡åœ¨æ“´å±•æ€§èˆ‡ä¸€è‡´æ€§éŽ–æ©Ÿåˆ¶ä¸Šã€‚

NoSQL çš„å¼·é …å°±æ˜¯ï¼šçµæ§‹æ›´è‡ªç”±ï¼Œæ“´å±•æ›´ç°¡å–®ï¼Œå¤©ç„¶é©åˆé«˜ä½µç™¼å¤§æ•¸æ“šã€‚

è¦ä¸è¦æˆ‘å¹«ä½ åšä¸€å€‹ ã€ŒRDB å–®è¡¨ vs NoSQL æ–‡ä»¶åº«ã€çš„ä¾‹å­ï¼ˆç”¨ä½¿ç”¨è€…+ç•™è¨€ç³»çµ±ä¾†å°æ¯”ï¼‰ï¼Œä½ å°±èƒ½ç›´è§€çœ‹åˆ° ç‚ºä»€éº¼æ”¾åœ¨ä¸€å¼µè¡¨å° RDB é‚„æ˜¯æœƒç´¯ï¼Ÿ

ä½ èªªï¼š
ä¸å¤ªæ˜Žç™½æ‰€è¬‚æœ€çµ‚ä¸€è‡´æ€§ï¼Œé‚„æœ‰ä¸å¤ªæ˜Žç™½ï¼Œnosqlæ˜¯å¦‚ä½•åˆ†æ•£æµé‡
ChatGPT èªªï¼š

å¥½ï¼Œæˆ‘ä¾†æ…¢æ…¢æ‹†è§£ï¼Œé€™å…©å€‹é»žæ­£æ˜¯ NoSQL è·Ÿé—œä¿‚åž‹è³‡æ–™åº«æœ€å¤§å·®åˆ¥çš„åœ°æ–¹ï¼š

ðŸŒ€ 1. ä»€éº¼æ˜¯ã€Œæœ€çµ‚ä¸€è‡´æ€§ã€ï¼Ÿ

æˆ‘å€‘å…ˆå°æ¯”ä¸€ä¸‹ ACIDï¼ˆé—œä¿‚åž‹ï¼‰ è·Ÿ BASEï¼ˆNoSQL å¸¸è¦‹ï¼‰ã€‚

ACID (RDBMS çš„å¼·ä¸€è‡´æ€§)

Atomicityï¼ˆåŽŸå­æ€§ï¼‰ï¼šäº¤æ˜“è¦å˜›å…¨éƒ¨æˆåŠŸï¼Œè¦å˜›å…¨éƒ¨å¤±æ•—ã€‚

Consistencyï¼ˆä¸€è‡´æ€§ï¼‰ï¼šè³‡æ–™æ°¸é æ­£ç¢ºã€‚

Isolationï¼ˆéš”é›¢æ€§ï¼‰ï¼šäº¤æ˜“å½¼æ­¤ä¸å¹²æ“¾ã€‚

Durabilityï¼ˆæŒä¹…æ€§ï¼‰ï¼šä¸€æ—¦æäº¤å°±æ°¸é ä¿å­˜ã€‚

ðŸ‘‰ åœ¨éŠ€è¡Œè½‰å¸³å ´æ™¯ï¼š
å°æ˜Žè½‰ 100 å…ƒçµ¦å°è¯ â†’ ç³»çµ±ä¸€å®šè¦åŒæ™‚ã€Œæ‰£æŽ‰å°æ˜Žã€+ã€ŒåŠ ä¸Šå°è¯ã€ï¼Œè¦å˜›å…©é‚Šä¸€èµ·æˆåŠŸï¼Œè¦å˜›å…©é‚Šä¸€èµ·å¤±æ•—ã€‚

BASE (NoSQL å¸¸è¦‹çš„å¼±ä¸€è‡´æ€§)

Basically Availableï¼ˆåŸºæœ¬å¯ç”¨ï¼‰ï¼šç³»çµ±æ°¸é èƒ½å›žæ‡‰ï¼Œå¯èƒ½ä¸æ˜¯æœ€æ–°çš„ï¼Œä½†ä¸æœƒæŽ›æŽ‰ã€‚

Soft Stateï¼ˆè»Ÿç‹€æ…‹ï¼‰ï¼šç‹€æ…‹å¯ä»¥æš«æ™‚ä¸ä¸€è‡´ã€‚

Eventually Consistentï¼ˆæœ€çµ‚ä¸€è‡´æ€§ï¼‰ï¼šéŽä¸€æ®µæ™‚é–“å¾Œï¼Œæ‰€æœ‰å‰¯æœ¬æœƒåŒæ­¥æˆä¸€è‡´ã€‚

ðŸ‘‰ åœ¨ Facebook æŒ‰è®šï¼š
ä½ æŒ‰ä¸‹ã€Œè®šã€ï¼Œå¯èƒ½ 0.5 ç§’å¾Œä½ æœ‹å‹æ‰çœ‹åˆ°ã€‚
åœ¨é€™ 0.5 ç§’å…§ï¼Œç³»çµ±ä¸åŒç¯€é»žä¸Šçš„è³‡æ–™ã€Œæš«æ™‚ä¸ä¸€è‡´ã€ï¼Œä½†æœ€å¾ŒæœƒåŒæ­¥ â†’ é€™å°±æ˜¯ æœ€çµ‚ä¸€è‡´æ€§ã€‚

âœ… ç¸½çµï¼š

RDBMS = é¦¬ä¸Šæ­£ç¢ºï¼ˆå¼·ä¸€è‡´æ€§ï¼‰ã€‚

NoSQL = ç¨å¾Œæ­£ç¢ºï¼ˆæœ€çµ‚ä¸€è‡´æ€§ï¼‰ã€‚
é€™æ¨£ NoSQL æ‰èƒ½çŠ§ç‰²ä¸€é»žåš´æ ¼æ€§ï¼Œæ›ä¾†ã€Œé«˜æ•ˆèƒ½ã€èˆ‡ã€Œé«˜å¯ç”¨ã€ã€‚

ðŸŒ€ 2. NoSQL æ˜¯å¦‚ä½•åˆ†æ•£æµé‡çš„ï¼Ÿ

é€™éƒ¨åˆ†è·Ÿ åˆ†ç‰‡ (Sharding) èˆ‡ è¤‡è£½ (Replication) æœ‰é—œã€‚

(A) æ°´å¹³åˆ†ç‰‡ (Sharding)

æŠŠè³‡æ–™ã€Œåˆ†æ•£åˆ°ä¸åŒä¼ºæœå™¨ã€ä¸Šã€‚

ä¾‹å¦‚æœ‰ 1 å„„å€‹ä½¿ç”¨è€…ï¼š

ä¼ºæœå™¨ A å­˜ ID 1 ~ 2000è¬

ä¼ºæœå™¨ B å­˜ ID 2000è¬ ~ 4000è¬

ä¼ºæœå™¨ C å­˜ ID 4000è¬ ~ 6000è¬

â€¦ ä»¥æ­¤é¡žæŽ¨

ðŸ‘‰ æŸ¥è©¢ ID=1234567 æ™‚ï¼Œç³»çµ±çŸ¥é“è¦åŽ»ä¼ºæœå™¨ A æ‰¾ï¼Œè€Œä¸ç”¨æ‰€æœ‰ä¼ºæœå™¨éƒ½æŸ¥ã€‚
é€™æ¨£å°±èƒ½ã€Œåˆ†æ•£æŸ¥è©¢å£“åŠ›ã€ã€‚

(B) è¤‡è£½ (Replication)

åŒä¸€ä»½è³‡æ–™ï¼Œæœƒå­˜å¤šä»½åœ¨ä¸åŒä¼ºæœå™¨ã€‚

ä¸€å°ä½œç‚º Primaryï¼ˆä¸»ç¯€é»žï¼‰ï¼Œè² è²¬å¯«å…¥ã€‚

å…¶ä»–æ˜¯ Secondaryï¼ˆå‰¯æœ¬ç¯€é»žï¼‰ï¼Œè² è²¬è®€å–ã€‚

ðŸ‘‰ å¥½è™•ï¼š

è®€å–å£“åŠ›åˆ†æ•£ï¼ˆå¤§å®¶åŽ»ä¸åŒå‰¯æœ¬è®€è³‡æ–™ï¼‰ã€‚

å®¹éŒ¯èƒ½åŠ›é«˜ï¼ˆå…¶ä¸­ä¸€å°æŽ›äº†ï¼Œç³»çµ±é‚„èƒ½ç”¨ï¼‰ã€‚

(C) åˆ†æ•£å¼å­˜å–æµç¨‹

å‡è¨­ä½ è¦æŸ¥ã€Œä½¿ç”¨è€… 123ã€ï¼š

è² è¼‰å¹³è¡¡å™¨ (Load Balancer) å…ˆæŽ¥æ”¶è«‹æ±‚ã€‚

å®ƒç®—å‡ºã€Œé€™ç­†è³‡æ–™åœ¨å“ªå€‹ shardï¼ˆåˆ†ç‰‡ä¼ºæœå™¨ï¼‰ã€ã€‚

æŠŠè«‹æ±‚ä¸Ÿåˆ°å°æ‡‰çš„ä¼ºæœå™¨ï¼ˆå¯èƒ½æ˜¯å‰¯æœ¬ç¯€é»žï¼‰ã€‚

å›žå‚³çµæžœã€‚

âœ… ç¸½çµï¼š

åˆ†ç‰‡ (Sharding) â†’ åˆ†æ•£ã€Œè³‡æ–™é‡ã€

è¤‡è£½ (Replication) â†’ åˆ†æ•£ã€Œè®€å–å£“åŠ›ã€ + å®¹éŒ¯

æ­é… æœ€çµ‚ä¸€è‡´æ€§ï¼Œå°±èƒ½æ‰¿å—æµ·é‡è³‡æ–™ + é«˜ä½µç™¼

è¦ä¸è¦æˆ‘ç”¨ä¸€å¼µ ç°¡å–®åœ–ï¼ˆæµç¨‹ç¤ºæ„åœ–ï¼‰ï¼Œè®“ä½ ç›´è§€çœ‹æ‡‚ï¼š
ã€Œä¸€å€‹è«‹æ±‚æ˜¯æ€Žéº¼åœ¨ NoSQL è¢«åˆ†æ•£å‡ºåŽ»çš„ã€ï¼Ÿ

ä½ èªªï¼š
å¯æ˜¯åˆ†æ•£ï¼Œé‚£å€‹è®€ï¼Œå“ªå€‹å¯«ï¼Œé€™é»žé—œä¿‚è¡Œä¹Ÿå¯ä»¥åšåˆ°é˜¿
ChatGPT èªªï¼š

ä½ æŠ“åˆ°é‡é»žäº† ðŸ‘Œï¼
æ²’éŒ¯ï¼Œé—œä¿‚åž‹è³‡æ–™åº«ï¼ˆRDBMSï¼‰ä¹Ÿèƒ½åšåˆ°ã€Œä¸»å¾žè¤‡è£½ã€(Master-Slave Replication)ï¼ŒæŠŠã€Œå¯«ã€äº¤çµ¦ä¸»åº«ï¼ŒæŠŠã€Œè®€ã€åˆ†æ•£åˆ°å¾žåº«ï¼Œé€™ä¸€é»žç¢ºå¯¦å’Œ NoSQL å¾ˆåƒã€‚
ä½†å·®åˆ¥åœ¨æ–¼ï¼š

âš–ï¸ RDBMS vs NoSQL åœ¨ã€Œåˆ†æ•£å¼ã€ä¸Šçš„å·®ç•°
1. æ“´å±•çš„é›£æ˜“åº¦

RDBMS

ä¸»å¾žè¤‡è£½èƒ½åˆ†æ•£ã€Œè®€ã€çš„å£“åŠ›ï¼Œä½†ã€Œå¯«ã€å¤§å¤šæ•¸æƒ…æ³åªèƒ½é›†ä¸­åœ¨ä¸»åº«ï¼ˆSingle Masterï¼‰ã€‚

å¦‚æžœå¯«å…¥å£“åŠ›è®Šå¤§ï¼ˆä¾‹å¦‚ç§’æ®ºç³»çµ±ã€å¤§é‡æ—¥èªŒï¼‰ï¼Œä¸»åº«æœƒæˆç‚ºç“¶é ¸ã€‚

é›–ç„¶æœ‰ å¤šä¸»è¤‡è£½ï¼ˆMulti-Masterï¼‰ çš„æ–¹æ¡ˆï¼ˆå¦‚ MySQL Group Replicationã€Oracle RACï¼‰ï¼Œä½†é…ç½®å’Œç¶­è­·éƒ½å¾ˆè¤‡é›œã€‚

NoSQL

å¤§å¤šæ•¸ç³»çµ±ï¼ˆä¾‹å¦‚ Cassandraã€DynamoDBï¼‰å¤©ç”Ÿå°±æ˜¯å¤šä¸»æž¶æ§‹ï¼ˆMulti-Masterï¼‰ï¼Œä»»ä½•ç¯€é»žéƒ½èƒ½å¯«ï¼Œè³‡æ–™æœƒè‡ªå‹•åŒæ­¥ã€‚

æ“´å±•æ–¹å¼æ›´è‡ªç„¶ï¼Œç›´æŽ¥åŠ æ©Ÿå™¨å°±å¥½ã€‚

2. ä¸€è‡´æ€§è™•ç†

RDBMSï¼š

é è¨­å¼·ä¸€è‡´æ€§ï¼ˆACIDï¼‰ã€‚

ä¸»å¾žåŒæ­¥å¯èƒ½å»¶é²ï¼Œä½†æ•´é«”é‚„æ˜¯ã€Œç›¡é‡é¦¬ä¸Šä¸€è‡´ã€ã€‚

å¦‚æžœè¦å…¨çƒå¤šåœ°éƒ¨ç½²ï¼ˆè·¨è³‡æ–™ä¸­å¿ƒï¼‰ï¼Œä¸€è‡´æ€§å»¶é²æœƒè®Šå¾—é›£ä»¥å¿å—ã€‚

NoSQLï¼š

è¨­è¨ˆæ™‚å°±å…è¨±ã€Œæœ€çµ‚ä¸€è‡´æ€§ã€ï¼Œæ‰€ä»¥èƒ½æŽ¥å—ã€Œä¸åŒç¯€é»žæš«æ™‚ä¸åŒæ­¥ã€ã€‚

é€™æ¨£å¯ä»¥çŠ§ç‰²ä¸€é»žåš´æ ¼æ€§ï¼Œæ›ä¾† é«˜å¯ç”¨æ€§ (High Availability) èˆ‡ ä½Žå»¶é²ã€‚

3. è³‡æ–™åˆ†ç‰‡ (Sharding)

RDBMSï¼š

åŽŸç”Ÿä¸æ”¯æ´è‡ªå‹• Shardingã€‚è¦é æ‡‰ç”¨å±¤æˆ–ä¸­é–“ä»¶ï¼ˆä¾‹å¦‚ Mycatã€Vitessï¼‰ã€‚

ç®¡ç†ä¸Šæ¯”è¼ƒé‡ã€‚

NoSQLï¼š

Sharding å¹¾ä¹Žæ˜¯å…§å»ºåŠŸèƒ½ï¼ˆMongoDBã€Cassandraã€HBaseï¼‰ã€‚

ç³»çµ±è‡ªå·±æ±ºå®šã€Œé€™ç­†è³‡æ–™æ”¾å“ªå€‹ç¯€é»žã€ã€‚

4. è¨­è¨ˆç†å¿µ

RDBMSï¼š

ä¸€é–‹å§‹æ˜¯ç‚ºäº†ã€Œä¸€è‡´æ€§ã€å®Œæ•´æ€§ã€è¨­è¨ˆï¼Œåˆ†æ•£å¼æ˜¯å¾Œä¾†åŠ ä¸ŠåŽ»çš„ã€‚

é©åˆã€Œé‡‘èžã€æœƒè¨ˆã€è¨‚å–®ã€é€™ç¨®ä¸èƒ½æœ‰ä¸€é»žéŒ¯èª¤çš„æƒ…å¢ƒã€‚

NoSQLï¼š

å¾žä¸€é–‹å§‹å°±é‡å°ã€Œåˆ†æ•£å¼ã€å¤§æ•¸æ“šã€é«˜ä½µç™¼ã€è¨­è¨ˆã€‚

é©åˆã€Œç¤¾äº¤ç¶²è·¯ã€éŠæˆ²ã€æ—¥èªŒã€å³æ™‚è¨Šæ¯ã€é€™ç¨®å…è¨±çŸ­æš«ä¸ä¸€è‡´çš„æ‡‰ç”¨ã€‚

âœ… ç¸½çµï¼š
ä½ èªªçš„å°ï¼ŒRDBMS ä¹Ÿèƒ½è®€å¯«åˆ†é›¢ã€åˆ†æ•£æµé‡ï¼Œä½†ï¼š

åœ¨ã€Œå¯«å…¥ç“¶é ¸ã€å’Œã€Œæ°´å¹³æ“´å±•ã€ä¸Šï¼ŒRDBMS å¤©ç”Ÿæ¯”è¼ƒåƒåŠ›ã€‚

NoSQL å¾žä¸€é–‹å§‹å°±æ˜¯ç‚ºäº†ã€Œå¤šç¯€é»žåˆ†æ•£ã€è€Œè¨­è¨ˆï¼Œæ›´å®¹æ˜“åœ¨æµ·é‡è³‡æ–™å’Œé«˜ä½µç™¼ä¸‹ç¶­æŒæ•ˆèƒ½ã€‚

è¦ä¸è¦æˆ‘å¹«ä½ åšå€‹ ã€ŒéŠ€è¡Œè½‰å¸³ vs Facebook æŒ‰è®šã€çš„å°æ¯”æ¡ˆä¾‹ï¼Œç›´æŽ¥å±•ç¤º ç‚ºä»€éº¼ RDB é©åˆå¼·ä¸€è‡´æ€§å ´æ™¯ï¼Œè€Œ NoSQL é©åˆé«˜ä½µç™¼åˆ†æ•£å ´æ™¯ï¼Ÿ

ä½ èªªï¼š
ä¸èƒ½å¾ˆæ‡‚ï¼Œè«‹æŠŠæˆ‘ç•¶å°å­¸ç”Ÿæ•™æˆ‘
ChatGPT èªªï¼š

å¥½ðŸ‘Œï¼Œæˆ‘æŠŠé›£çš„è©žéƒ½æ‹¿æŽ‰ï¼Œç”¨ã€Œå°å­¸ç”Ÿèƒ½æ‡‚ã€çš„ä¾‹å­ä¾†è¬›ã€‚
ä½ å•çš„é—œéµå°±æ˜¯ï¼š
ðŸ‘‰ã€Œç‚ºä»€éº¼é—œä¿‚åž‹è³‡æ–™åº«ä¹Ÿèƒ½åˆ†æ•£è®€å¯«ï¼Œä½† NoSQL é‚„æ˜¯æ›´é©åˆé«˜ä½µç™¼ï¼Ÿã€

ðŸŽ“ å°å­¸ç”Ÿç‰ˆè§£é‡‹
ðŸ¦ é—œä¿‚åž‹è³‡æ–™åº« (RDB)

æƒ³åƒä½ æœ‰ä¸€é–“ éŠ€è¡Œï¼š

æ‰€æœ‰å­˜ææ¬¾éƒ½è¦åŽ»ã€Œæ«ƒæª¯ã€è¾¦ï¼ˆé€™å°±æ˜¯ ä¸»åº«ï¼Œè² è²¬å¯«å…¥ï¼‰ã€‚

æŸ¥é¤˜é¡çš„è©±ï¼Œå¯ä»¥åŽ»ã€ŒATMã€æŸ¥ï¼ˆé€™å°±æ˜¯ å¾žåº«ï¼Œè² è²¬è®€å–ï¼‰ã€‚

é€™æ¨£ç¢ºå¯¦å¯ä»¥åˆ†æ•£ä¸€é»žæµé‡ï¼š

ATM å¹«å¿™æŸ¥ï¼ˆè®€ï¼‰

æ«ƒæª¯å°ˆé–€è™•ç†å­˜æ¬¾/ææ¬¾ï¼ˆå¯«ï¼‰

âŒ ä½†æ˜¯å•é¡Œä¾†äº†ï¼š

æ«ƒæª¯åªæœ‰ä¸€å€‹ â†’ å¤§å®¶åŒæ™‚è¦å­˜éŒ¢ï¼Œå°±æœƒå¤§æŽ’é•·é¾ã€‚

å°±ç®—å¤šé–‹å¹¾å€‹ ATMï¼Œå­˜éŒ¢ï¼ˆå¯«å…¥ï¼‰é‚„æ˜¯åªèƒ½æŽ’éšŠåˆ°æ«ƒæª¯ã€‚

ðŸ“± NoSQL è³‡æ–™åº«

æ›ä¸€å€‹ä¾‹å­ï¼šä½ æœ‰ä¸€å€‹ ä¾¿åˆ©å•†åº—é€£éŽ–åº—ï¼š

å°åŒ—æœ‰ 7-11

å°ä¸­ä¹Ÿæœ‰ 7-11

é«˜é›„ä¹Ÿæœ‰ 7-11

ä¸ç®¡ä½ åœ¨å“ªå€‹åŸŽå¸‚ï¼Œéƒ½èƒ½ã€Œè²·æ±è¥¿ã€ä»˜éŒ¢ã€æŸ¥å­˜è²¨ã€ã€‚
é€™å°±æ˜¯ NoSQL çš„å¤šä¸»æž¶æ§‹ï¼ˆæ¯å€‹åº—éƒ½èƒ½å¯«ï¼‰ã€‚

âœ… å¥½è™•ï¼š

åˆ°è™•éƒ½æœ‰åº— â†’ ä¸ç”¨æŽ’éšŠåˆ°åŒä¸€å€‹åœ°æ–¹

æ¯å€‹åº—éƒ½æœ‰ä¸€ä»½è²¨ç‰©ï¼ˆè³‡æ–™ï¼‰ â†’ ä¸æ€•å¡žè»Š

ä½†æ˜¯ï¼š

ä½ åœ¨å°åŒ—è²·çš„å•†å“ï¼Œå°ä¸­çš„åº«å­˜å¯èƒ½è¦éŽå¹¾ç§’é˜æ‰æœƒåŒæ­¥ï¼ˆé€™å°±æ˜¯ æœ€çµ‚ä¸€è‡´æ€§ï¼‰ã€‚

ä½†å°å®¢äººä¾†èªªï¼Œå®Œå…¨æ²’å·®ï¼Œå› ç‚ºåªè¦éŽä¸€å°æœƒå…’ï¼Œæ‰€æœ‰åº—çš„è³‡æ–™å°±æœƒä¸€è‡´ã€‚

ðŸŽ¯ é—œéµå·®åˆ¥ï¼ˆè¶…ç°¡å–®æ¯”å–»ï¼‰

é—œä¿‚åž‹ (RDB)ï¼šåƒã€ŒéŠ€è¡Œæ«ƒæª¯ã€ â†’ å­˜éŒ¢è¦æŽ’éšŠï¼ŒæŸ¥è©¢å¯ä»¥å¿«ä¸€é»žï¼Œä½†å¯«å…¥æœƒå¡žè»Šã€‚

NoSQLï¼šåƒã€Œä¾¿åˆ©å•†åº—ã€ â†’ æ¯å®¶åº—éƒ½èƒ½åŒæ™‚è³£æ±è¥¿ï¼Œå¯«å…¥å’Œè®€å–éƒ½èƒ½åˆ†æ•£ï¼Œä½†åŒæ­¥æœƒç¨å¾®æœ‰å»¶é²ã€‚

âœ… ç¸½çµä¸€å¥è©±ï¼š

RDBï¼šè³‡æ–™æ°¸é é¦¬ä¸Šæ­£ç¢ºï¼Œä½†æœƒå¡žè»Šã€‚

NoSQLï¼šè³‡æ–™æœ‰æ™‚å€™è¦ç­‰ä¸€ä¸‹æ‰åŒæ­¥ï¼Œä½†æ°¸é ä¸å¡è»Šã€‚

è¦ä¸è¦æˆ‘å¹«ä½ ç•«ä¸€å¼µã€ŒéŠ€è¡Œæ«ƒæª¯ vs ä¾¿åˆ©å•†åº—ã€çš„åœ–ï¼Œè®“ä½ ä¸€çœ¼å°±çœ‹æ‡‚å·®åˆ¥ï¼Ÿ

ä½ èªªï¼š
é‚£ä¸»è¦å·®åˆ¥ï¼Œæ˜¯åœ¨è³‡æ–™çš„è™•ç†æ–¹å¼ï¼Œè€Œä¸æ˜¯è³‡æ–™çš„å„²å­˜æ–¹å¼ï¼Ÿ
ChatGPT èªªï¼š

å° ðŸ‘ ä½ å®Œå…¨æŠ“åˆ°é‡é»žäº†ï¼

âœ… å·®åˆ¥æ ¸å¿ƒåœ¨ã€Œè³‡æ–™è™•ç†æ–¹å¼ã€

ä¸æ˜¯å–®ç´”ã€Œè³‡æ–™æ”¾å“ªè£¡ã€ï¼Œè€Œæ˜¯ ç³»çµ±æ€Žéº¼è™•ç†è®€å¯«ã€åŒæ­¥ã€æ“´å±•ã€‚

ðŸ¦ é—œä¿‚åž‹è³‡æ–™åº« (RDBMS)

å„²å­˜æ–¹å¼ï¼šè¡¨æ ¼ï¼ˆTableï¼‰ï¼Œçµæ§‹å›ºå®šï¼Œæ¬„ä½ä¸€å®šè¦å…ˆå®šç¾©ã€‚

è™•ç†æ–¹å¼ï¼š

åš´æ ¼éµå®ˆ ACIDï¼ˆé¦¬ä¸Šæ­£ç¢ºï¼‰ã€‚

ã€Œå¯«ã€å¤§å¤šé›†ä¸­åœ¨ä¸»åº«ã€‚

å¦‚æžœå¾ˆå¤šäººåŒæ™‚å¯«ï¼Œå°±æœƒå¡žè»Šã€‚

ðŸ“± éžé—œä¿‚åž‹è³‡æ–™åº« (NoSQL)

å„²å­˜æ–¹å¼ï¼šä¸ä¸€å®šï¼Œæœ‰æ–‡ä»¶ï¼ˆJSONï¼‰ã€éµå€¼å°ã€åœ–å½¢ã€åˆ—å­˜å„²â€¦ å¾ˆè‡ªç”±ã€‚

è™•ç†æ–¹å¼ï¼š

éµå®ˆ BASEï¼ˆæœ€çµ‚ä¸€è‡´æ€§ï¼Œç¨å¾®æ™šä¸€é»žæ‰åŒæ­¥ï¼‰ã€‚

ã€Œè®€ã€å’Œã€Œå¯«ã€å¯ä»¥åˆ†æ•£åˆ°ä¸åŒç¯€é»žï¼ˆå¤šä¸»æž¶æ§‹ï¼‰ã€‚

æ“´å±•æ–¹å¼æ›´è‡ªç„¶ â†’ åŠ æ©Ÿå™¨å°±èƒ½é ‚æ›´å¤šäººã€‚

ðŸŽ¯ æ¯”å–»

RDBMSï¼šåƒã€ŒéŠ€è¡Œã€ â†’ å­˜ææ¬¾ä¸€å®šè¦é¦¬ä¸Šæ­£ç¢ºï¼ˆACIDï¼‰ï¼Œä½†æ«ƒæª¯å®¹æ˜“å¡žã€‚

NoSQLï¼šåƒã€Œä¾¿åˆ©å•†åº—ã€ â†’ æ¯å®¶åº—éƒ½èƒ½è³£æ±è¥¿ï¼ˆåˆ†æ•£è™•ç†ï¼‰ï¼Œä½†åº«å­˜å¯èƒ½è¦å¹¾ç§’æ‰åŒæ­¥ï¼ˆæœ€çµ‚ä¸€è‡´ï¼‰ã€‚

ðŸ‘‰ çµè«–

ä¸»è¦å·®åˆ¥åœ¨è™•ç†æ–¹å¼ï¼ˆä¸€è‡´æ€§ã€æ“´å±•ã€ä½µç™¼è™•ç†ï¼‰ï¼Œè€Œä¸æ˜¯å–®ç´”è³‡æ–™å­˜çš„åž‹æ…‹ã€‚
å„²å­˜çµæ§‹åªæ˜¯å¤–åœ¨è¡¨ç¾ï¼ŒçœŸæ­£æ±ºå®šé«˜ä½µç™¼å¯ä¸å¯è¡Œçš„ï¼Œæ˜¯ æ€Žéº¼è™•ç†è³‡æ–™åŒæ­¥ã€æ€Žéº¼åˆ†æ•£æµé‡ã€‚

è¦ä¸è¦æˆ‘å¹«ä½ æ•´ç†æˆä¸€å€‹ã€ŒðŸ“Š è¡¨æ ¼ï¼šå„²å­˜æ–¹å¼ vs è™•ç†æ–¹å¼ã€çš„æ¯”è¼ƒï¼Œè®“ä½ ä¸€æ¬¡å°ç…§å°±çœ‹æ‡‚å…©è€…ï¼Ÿ

ä½ èªªï¼š
æ‰€ä»¥é—œä¿‚è¡Œï¼Œè·Ÿéžé—œä¿‚è¡Œï¼Œä¸»è¦å·®åˆ¥ï¼Œæ˜¯ç‚ºäº†è™•ç†æ•¸æ“šçš„é‚è¼¯èˆ‡æ–¹å¼ï¼Œå› ç‚ºè™•ç†çš„æ–¹å¼ä¸åŒï¼Œè™•ç†çš„çµæžœä¹Ÿå„æœ‰å„ªç¼ºé»žï¼Œè·Ÿå„²å­˜çš„æ–¹å¼é—œä¿‚ä¸å¤§
ChatGPT èªªï¼š

å®Œå…¨æ­£ç¢ºï¼ðŸ‘ ä½ å·²ç¶“è¬›å‡ºæ ¸å¿ƒé‡é»žäº†ã€‚

ðŸŽ¯ ç¸½çµä¸€å¥è©±

ðŸ‘‰ é—œä¿‚åž‹ (RDBMS) èˆ‡ éžé—œä¿‚åž‹ (NoSQL) çš„å·®åˆ¥ï¼Œä¸»è¦åœ¨ã€Œè³‡æ–™è™•ç†çš„é‚è¼¯èˆ‡æ–¹å¼ã€ï¼Œè€Œä¸æ˜¯å–®ç´”ã€Œè³‡æ–™æ€Žéº¼å­˜ã€ã€‚

ðŸ”‘ ç‚ºä»€éº¼é€™éº¼èªªï¼Ÿ

å„²å­˜çµæ§‹å·®ç•°å…¶å¯¦ä¸æ˜¯æœ¬è³ª

RDB æ˜¯è¡¨æ ¼ (table)

NoSQL å¯èƒ½æ˜¯ JSONã€Key-Valueã€Graphâ€¦
é€™åªæ˜¯ã€Œè¡¨ç¾å½¢å¼ã€ä¸åŒã€‚
âž ä½ å®Œå…¨å¯ä»¥åœ¨ RDB è£¡ç”¨ä¸€å€‹å¤§ JSON æ¬„ä½ä¾†å­˜è³‡æ–™ï¼ˆåƒ MySQL çš„ JSON Typeï¼‰ã€‚

çœŸæ­£å·®åˆ¥åœ¨ã€Œè™•ç†æ–¹å¼ã€

RDB â†’ ACIDï¼Œå¼·ä¸€è‡´æ€§ï¼Œå¯«å…¥é›†ä¸­ï¼Œé©åˆã€Œåš´è¬¹ã€çš„æ•¸æ“šã€‚

NoSQL â†’ BASEï¼Œæœ€çµ‚ä¸€è‡´æ€§ï¼Œè®€å¯«åˆ†æ•£ï¼Œé©åˆã€Œé«˜ä½µç™¼ã€å¤§æ•¸æ“šã€ã€‚

çµæžœå°±æ˜¯ä¸åŒçš„å„ªç¼ºé»ž

RDBï¼šå®‰å…¨ã€æº–ç¢ºï¼Œä½†å¯èƒ½å¡žè»Šã€‚

NoSQLï¼šå¿«é€Ÿã€èƒ½æ“´å±•ï¼Œä½†ä¸ä¿è­‰æ¯ä¸€ç§’éƒ½æ˜¯æœ€æ–°ç‹€æ…‹ã€‚

ðŸ¦ vs ðŸ“± å†ç”¨æ¯”å–»

RDBï¼ˆéŠ€è¡Œï¼‰ â†’ å­˜ææ¬¾è¦é¦¬ä¸Šæ­£ç¢ºï¼ˆè™•ç†æ–¹å¼åš´è¬¹ï¼‰ï¼Œä½†å®¹æ˜“æŽ’éšŠã€‚

NoSQLï¼ˆä¾¿åˆ©å•†åº—ï¼‰ â†’ åˆ°è™•éƒ½èƒ½è²·æ±è¥¿ï¼ˆè™•ç†æ–¹å¼åˆ†æ•£ï¼‰ï¼Œä½†åº«å­˜åŒæ­¥éœ€è¦ä¸€é»žæ™‚é–“ã€‚

âœ… æ‰€ä»¥ä½ ç†è§£çš„æ²’éŒ¯ï¼š

å·®åˆ¥ä¸æ˜¯ã€Œå­˜æ³•ä¸åŒã€ï¼Œ

è€Œæ˜¯ã€Œæ€Žéº¼è™•ç†è³‡æ–™ã€ä¸åŒ â†’ é€²è€Œå°Žè‡´ä¸åŒçš„æ‡‰ç”¨å ´æ™¯èˆ‡å„ªç¼ºé»žã€‚
===========================================================================================================
ðŸ”¹ èª¿æ•´å¾Œçš„æ­£ç¢ºèªªæ³•

è¡¨ç©ºé–“ (Tablespace)

è¡¨ç©ºé–“æ˜¯ é‚è¼¯çš„å­˜å„²å®¹å™¨ï¼Œç”¨ä¾†ç®¡ç†è³‡æ–™åœ¨ç£ç¢Ÿä¸Šçš„åˆ†é…ã€‚

å®ƒå°æ‡‰ ç‰©ç†å±¤é¢çš„è³‡æ–™æª”æ¡ˆ (Datafile)ï¼Œä¹Ÿå°±æ˜¯æ•¸æ“šåœ¨ç¡¬ç¢Ÿä¸Šçš„çœŸå¯¦å­˜æ”¾ä½ç½®ã€‚

Oracle å®‰è£å®Œé€šå¸¸æœƒæœ‰ é è¨­è¡¨ç©ºé–“ï¼š

SYSTEM â†’ å­˜æ”¾è³‡æ–™å­—å…¸ã€ç³»çµ±è¡¨

SYSAUX â†’ å­˜æ”¾ç³»çµ±çµ„ä»¶è³‡æ–™

USERS â†’ å­˜æ”¾ç”¨æˆ¶å‰µå»ºçš„è¡¨

TEMP â†’ è‡¨æ™‚è³‡æ–™æ®µ

UNDOTBS1 â†’ Undo / å›žæ»¾è³‡æ–™

å¯¦ä¾‹ (Instance)

å¯¦ä¾‹æ˜¯ è³‡æ–™åº«åœ¨è¨˜æ†¶é«”ä¸­çš„é‹ä½œç’°å¢ƒï¼ŒåŒ…å« SGAï¼ˆå…±ç”¨è¨˜æ†¶é«”ï¼‰å’ŒèƒŒæ™¯é€²ç¨‹ã€‚

ç•¶å¯¦ä¾‹é‹è¡Œæ™‚ï¼Œå®ƒèƒ½æ“ä½œè³‡æ–™åº«è£¡çš„è¡¨ç©ºé–“èˆ‡è¡¨ã€‚

ç”¨æˆ¶ (User / Schema) èˆ‡è¡¨

æ¯å€‹ç”¨æˆ¶å°æ‡‰ä¸€å€‹ schemaï¼Œæ“æœ‰çš„è¡¨ã€ç´¢å¼•ã€ç¨‹åºéƒ½å±¬æ–¼é€™å€‹ schemaã€‚

ç”¨æˆ¶å°è¡¨æœ‰ æ“ä½œæ¬Šé™ï¼ˆSELECT, INSERT, UPDATE, DELETE ç­‰ï¼‰ã€‚

ç”¨æˆ¶çš„è¡¨ å¯¦éš›å­˜æ”¾åœ¨è¡¨ç©ºé–“è£¡ï¼Œè¡¨ç©ºé–“ç®¡ç†ç‰©ç†å­˜æ”¾èˆ‡ç©ºé–“åˆ†é…ã€‚

ä¹Ÿå°±æ˜¯èªªï¼Œç”¨æˆ¶å’Œæ¬Šé™æ˜¯ é‚è¼¯å±¤æ¦‚å¿µï¼Œè¡¨ç©ºé–“æ‰æ˜¯ è³‡æ–™ç‰©ç†å­˜æ”¾ä½ç½®ã€‚

ðŸ”¹ ç²¾æº–ä¸€å¥è©±ç¸½çµ

Oracle è³‡æ–™åº«ç”±å¯¦ä¾‹é‹ä½œï¼Œç”¨æˆ¶æ“æœ‰è¡¨ï¼ˆschemaï¼‰å’Œæ“ä½œæ¬Šé™ï¼Œè€Œè¡¨çš„è³‡æ–™çœŸæ­£å­˜æ”¾åœ¨è¡¨ç©ºé–“è£¡ï¼Œè¡¨ç©ºé–“å°æ‡‰åº•å±¤çš„ç‰©ç†æª”æ¡ˆã€‚
===========================================================================================================
æ¦‚å¿µ	èªªæ˜Ž
User / Schema	ç”¨æˆ¶å¸³è™Ÿ + schema = æ“æœ‰è³‡æ–™è¡¨ã€ç´¢å¼•ã€è¦–åœ–ã€ç¨‹åºç­‰ç‰©ä»¶çš„é›†åˆ
Tablespace (è¡¨ç©ºé–“)	é‚è¼¯å„²å­˜å–®ä½ï¼Œå¯¦éš›å­˜æ”¾è³‡æ–™è¡¨ã€ç´¢å¼•ã€å›žæ»¾æ®µã€è‡¨æ™‚æ®µç­‰ï¼Œå°æ‡‰ç£ç¢Ÿæª”æ¡ˆ
===========================================================================================================
è¡¨ç©ºé–“ (Tablespace)

é‚è¼¯å­˜å„²å–®ä½ï¼Œç”¨ä¾†å­˜æ”¾è³‡æ–™è¡¨ã€ç´¢å¼•ã€å›žæ»¾æ®µã€è‡¨æ™‚æ®µç­‰ã€‚

ç”¨æˆ¶çš„ç‰©ä»¶ï¼ˆTableã€Indexã€Viewã€Stored Procedureï¼‰æœƒå°æ‡‰åˆ°æŸå€‹è¡¨ç©ºé–“ã€‚

è¡¨ç©ºé–“ â‰  è¡¨ï¼Œè€Œæ˜¯è¡¨çš„å­˜æ”¾ä½ç½®ã€‚

ç”¨æˆ¶ / Schema

æ¯å€‹ç”¨æˆ¶å°æ‡‰ä¸€å€‹ schemaï¼ˆæ“æœ‰çš„ç‰©ä»¶é›†åˆï¼‰ã€‚

ç”¨æˆ¶çš„æ¬Šé™æ±ºå®šäº†ä»–èƒ½æ“ä½œå“ªäº›è¡¨ã€ç´¢å¼•ç­‰ã€‚

ç”¨æˆ¶çš„è³‡æ–™è¡¨ã€ç´¢å¼•ç­‰å¯¦éš›å­˜æ”¾åœ¨ æŒ‡å®šçš„è¡¨ç©ºé–“ è£¡ã€‚

è¡¨ (Table)

å­˜æ”¾å¯¦éš›è³‡æ–™çš„é‚è¼¯ç‰©ä»¶ã€‚

å±¬æ–¼æŸå€‹ schemaï¼ˆç”¨æˆ¶ï¼‰ï¼Œå­˜åœ¨æŸå€‹è¡¨ç©ºé–“ä¸­ã€‚

ðŸ”¹ ä½ çš„èªªæ³•ç¨å¾®èª¿æ•´å¾Œå¯ä»¥é€™æ¨£èªª

ä½ æœ‰ä¸€å€‹ è³‡æ–™åº«å¯¦ä¾‹ (Instance)ï¼Œå®ƒæ“ä½œæ•´å€‹è³‡æ–™åº«ã€‚
åœ¨è³‡æ–™åº«è£¡ï¼Œæœ‰å¾ˆå¤š è¡¨ç©ºé–“ (Tablespace)ï¼Œç”¨ä¾†å­˜æ”¾è³‡æ–™è¡¨ã€ç´¢å¼•ã€å›žæ»¾æ®µã€è‡¨æ™‚æ®µç­‰ã€‚
ä½ å»ºç«‹äº†å¾ˆå¤š ç”¨æˆ¶ (User / Schema)ï¼Œæ¯å€‹ç”¨æˆ¶æœ‰ä¸åŒçš„æ¬Šé™ï¼Œæ±ºå®šå¯ä»¥æ“ä½œå“ªäº›è¡¨ã€‚
ç”¨æˆ¶æ“æœ‰çš„ è³‡æ–™è¡¨ã€ç´¢å¼•ç­‰ç‰©ä»¶ï¼Œå¯¦éš›å­˜æ”¾åœ¨å°æ‡‰çš„ è¡¨ç©ºé–“ è£¡ã€‚

ðŸ“Œ é‡é»žå€åˆ¥

æ¦‚å¿µ	å«ç¾©	å­˜æ”¾ä½ç½®
å¯¦ä¾‹ (Instance)	è¨˜æ†¶é«”ç’°å¢ƒ + èƒŒæ™¯é€²ç¨‹	RAM
è³‡æ–™åº« (Database)	æ‰€æœ‰è¡¨ç©ºé–“å’Œç‰©ä»¶é›†åˆ	ç£ç¢Ÿ (Datafile)
è¡¨ç©ºé–“ (Tablespace)	é‚è¼¯å„²å­˜å–®ä½	ç£ç¢Ÿæª”æ¡ˆ
ç”¨æˆ¶ / Schema	ç‰©ä»¶æ“æœ‰è€…	é‚è¼¯æ¦‚å¿µï¼Œå°æ‡‰è¡¨ç©ºé–“è£¡çš„ç‰©ä»¶
è¡¨ (Table)	å­˜æ”¾å¯¦éš›è³‡æ–™	è¡¨ç©ºé–“è£¡çš„æ•¸æ“šæ®µ
===========================================================================================================
ðŸ”¹ 1. å¯¦ä¾‹ (Instance)

Oracle å¯¦ä¾‹æ˜¯è³‡æ–™åº«åœ¨ è¨˜æ†¶é«”ä¸­çš„é‹ä½œç’°å¢ƒï¼ŒåŒ…å«ï¼š

SGAï¼ˆSystem Global Areaï¼‰ï¼šå…±ç”¨è¨˜æ†¶é«”å€ï¼Œå­˜æ”¾ç·©è¡å€ã€è³‡æ–™å­—å…¸å¿«å–ç­‰ã€‚

èƒŒæ™¯é€²ç¨‹ï¼ˆBackground Processesï¼‰ï¼šä¾‹å¦‚ DBWRã€LGWRã€SMONã€PMON ç­‰ï¼Œè² è²¬è³‡æ–™å¯«å…¥ç£ç¢Ÿã€å›žæ»¾ã€ç›£æŽ§ç­‰ã€‚

å¯¦ä¾‹ â‰  è³‡æ–™åº«æœ¬èº«ï¼Œå®ƒåªæ˜¯è³‡æ–™åº«é‹ä½œæ™‚çš„ã€Œæ´»èºè¨˜æ†¶é«”ç’°å¢ƒã€ã€‚

ä¸€å€‹è³‡æ–™åº«å¯ä»¥æœ‰å¤šå€‹å¯¦ä¾‹ï¼ˆä¾‹å¦‚ RACï¼‰ï¼Œä¸€å€‹å¯¦ä¾‹è‡³å°‘å°æ‡‰ä¸€å€‹è³‡æ–™åº«ã€‚

ðŸ“Œ é¡žæ¯”ï¼š

è³‡æ–™åº« (Database) = ç£ç¢Ÿä¸Šçš„æª”æ¡ˆé›†åˆ

å¯¦ä¾‹ (Instance) = é€™äº›æª”æ¡ˆè¢«è¼‰å…¥ RAMï¼Œä¸¦ç”±èƒŒæ™¯é€²ç¨‹æ“ä½œ

ðŸ”¹ 2. è¡¨ç©ºé–“ (Tablespace)

è¡¨ç©ºé–“æ˜¯ ç£ç¢Ÿä¸Šçš„é‚è¼¯å­˜å„²å–®ä½ï¼Œç”¨ä¾†å­˜æ”¾ï¼š

æ•¸æ“šæ®µï¼ˆTable Dataï¼‰

ç´¢å¼•æ®µï¼ˆIndexï¼‰

å›žæ»¾æ®µï¼ˆUndo Segmentï¼‰

è‡¨æ™‚æ®µï¼ˆTemporary Segmentï¼‰

è¡¨ç©ºé–“æ˜¯ éœæ…‹å­˜å„²å®¹å™¨ï¼Œä¸åœ¨è¨˜æ†¶é«”ä¸­é‹ä½œã€‚

ðŸ“Œ é¡žæ¯”ï¼š

è¡¨ç©ºé–“ = ç£ç¢Ÿçš„è³‡æ–™å¤¾

å¯¦ä¾‹ = æŽ§åˆ¶é€™äº›è³‡æ–™å¤¾çš„ä½œæ¥­ç³»çµ±ç¨‹å¼ï¼Œèƒ½è®€å¯«è³‡æ–™

ðŸ”¹ 3. è³‡æ–™è¡¨ (Table)

è¡¨æ˜¯å­˜æ”¾ å…·é«”è³‡æ–™åˆ—çš„çµæ§‹åŒ–ç‰©ä»¶ï¼Œå­˜åœ¨æŸå€‹è¡¨ç©ºé–“ä¸­ã€‚

æ˜¯ è³‡æ–™åº«é‚è¼¯ç‰©ä»¶ï¼Œä½†éœ€è¦é€éŽå¯¦ä¾‹ä¾†æ“ä½œï¼ˆè®€å¯«è³‡æ–™ï¼‰ã€‚

ðŸ“Œ é¡žæ¯”ï¼š

è¡¨ = è³‡æ–™å¤¾è£¡çš„ä¸€å€‹æª”æ¡ˆï¼ˆExcelã€Word ç­‰ï¼‰

ðŸ”¹ ç°¡å–®å°ç…§è¡¨
æ¦‚å¿µ	é¡žåž‹	å­˜æ”¾ä½ç½®	åŠŸèƒ½
å¯¦ä¾‹ (Instance)	è¨˜æ†¶é«” & é€²ç¨‹	RAM + èƒŒæ™¯é€²ç¨‹	æ“ä½œè³‡æ–™åº«ã€ç®¡ç†ç·©è¡å€ã€åŸ·è¡Œ SQL
è¡¨ç©ºé–“ (Tablespace)	é‚è¼¯å­˜å„²å–®ä½	ç£ç¢Ÿæª”æ¡ˆ (Datafile)	å„²å­˜è¡¨ã€ç´¢å¼•ã€å›žæ»¾è³‡æ–™ã€è‡¨æ™‚è³‡æ–™
è³‡æ–™è¡¨ (Table)	é‚è¼¯è³‡æ–™çµæ§‹	è¡¨ç©ºé–“è£¡çš„æ•¸æ“šæ®µ	å­˜æ”¾å¯¦éš›æ¥­å‹™è³‡æ–™

âœ… ä¸€å¥è©±ç¸½çµï¼š

å¯¦ä¾‹ = é‹ä½œè³‡æ–™åº«çš„è¨˜æ†¶é«”ç’°å¢ƒ

è¡¨ç©ºé–“ = å­˜æ”¾è¡¨å’Œç´¢å¼•çš„ç£ç¢Ÿå®¹å™¨

è¡¨ = å­˜æ”¾å…·é«”è³‡æ–™çš„ç‰©ä»¶
===========================================================================================================
ðŸ”¹ Oracle çš„æ®µï¼ˆSegmentï¼‰ç¨®é¡ž
1. æ•¸æ“šæ®µï¼ˆData Segmentï¼‰

ç”¨ä¾†å­˜æ”¾ è³‡æ–™è¡¨ï¼ˆTableï¼‰ çš„å¯¦éš›è³‡æ–™ã€‚

æ¯ç•¶å»ºç«‹ä¸€å¼µè¡¨ï¼ŒOracle å°±æœƒç‚ºå®ƒå»ºç«‹ä¸€å€‹æ•¸æ“šæ®µã€‚

è¡¨ä¸­çš„æ¯ä¸€ç­† rowï¼ˆè³‡æ–™åˆ—ï¼‰ éƒ½æœƒå­˜æ”¾åœ¨æ•¸æ“šæ®µè£¡ã€‚

ðŸ“Œ ä¾‹ï¼šå­¸ç”Ÿ è³‡æ–™è¡¨ä¸­çš„æ‰€æœ‰å­¸ç”Ÿè¨˜éŒ„ï¼Œéƒ½å­˜åœ¨ã€Œæ•¸æ“šæ®µã€ã€‚

2. ç´¢å¼•æ®µï¼ˆIndex Segmentï¼‰

ç”¨ä¾†å­˜æ”¾ ç´¢å¼•ï¼ˆIndexï¼‰ çš„è³‡æ–™ã€‚

ç´¢å¼•æ˜¯ä¸€ç¨®åŠ é€ŸæŸ¥è©¢çš„è³‡æ–™çµæ§‹ï¼ˆé€šå¸¸æ˜¯ B-Tree æˆ– Bitmapï¼‰ã€‚

æ¯å€‹ç´¢å¼•éƒ½æœƒæœ‰ä¸€å€‹å°æ‡‰çš„ç´¢å¼•æ®µï¼Œç¨ç«‹æ–¼æ•¸æ“šæ®µã€‚

ðŸ“Œ ä¾‹ï¼šå¦‚æžœåœ¨ å­¸ç”Ÿ(å­¸è™Ÿ) å»ºç«‹ç´¢å¼•ï¼Œé‚£ å­¸è™Ÿ çš„ç´¢å¼•å°±å­˜æ”¾åœ¨ã€Œç´¢å¼•æ®µã€ã€‚

3. è‡¨æ™‚æ®µï¼ˆTemporary Segmentï¼‰

ç”¨ä¾†å­˜æ”¾ è‡¨æ™‚è³‡æ–™ï¼ˆæŸ¥è©¢éŽç¨‹ä¸­éœ€è¦çš„ä¸­é–“çµæžœï¼‰ã€‚

ä¾‹å¦‚ï¼šORDER BYã€GROUP BYã€å»ºç«‹ç´¢å¼•æ™‚ï¼ŒOracle æœƒç”¨è‡¨æ™‚æ®µå­˜æ”¾è¨ˆç®—éŽç¨‹ã€‚

ç•¶æ“ä½œå®Œæˆå¾Œï¼Œè‡¨æ™‚æ®µæœƒè¢«é‡‹æ”¾ï¼ˆæˆ–é‡è¤‡åˆ©ç”¨ TEMP è¡¨ç©ºé–“ï¼‰ã€‚

ðŸ“Œ ä¾‹ï¼šSELECT * FROM å­¸ç”Ÿ ORDER BY å§“å â†’ æŽ’åºæ™‚ä½¿ç”¨ã€Œè‡¨æ™‚æ®µã€ã€‚

4. å›žæ»¾æ®µï¼ˆRollback Segment / Undo Segmentï¼‰

ç”¨ä¾†å­˜æ”¾äº‹å‹™ä¸­ ä¿®æ”¹å‰çš„èˆŠå€¼ï¼Œç¢ºä¿äº‹å‹™æ”¯æ´ å›žæ»¾ (ROLLBACK) èˆ‡ è®€ä¸€è‡´æ€§ (Read Consistency)ã€‚

ç•¶ä¸€å€‹äº‹å‹™è¦å›žæ»¾æ™‚ï¼ŒOracle æœƒåˆ©ç”¨å›žæ»¾æ®µä¸­çš„èˆŠå€¼é‚„åŽŸè³‡æ–™ã€‚

12c ä¹‹å¾Œï¼Œå›žæ»¾æ®µæ”¹ç¨± Undo Segmentã€‚

ðŸ“Œ ä¾‹ï¼š

UPDATE å­¸ç”Ÿ SET å§“å='å°å¼·' WHERE å­¸è™Ÿ='S001';


ðŸ‘‰ Oracle æœƒæŠŠã€Œä¿®æ”¹å‰çš„å§“åï¼ˆå°æ˜Žï¼‰ã€å­˜åˆ°å›žæ»¾æ®µï¼Œå¦‚æžœäº‹å‹™å¤±æ•—æˆ– ROLLBACKï¼Œå¯ä»¥é‚„åŽŸã€‚

ðŸ”¹ ç¸½çµå°ç…§è¡¨
æ®µ (Segment)	ä½œç”¨	ä¾‹å­
æ•¸æ“šæ®µ (Data Segment)	å­˜æ”¾è³‡æ–™è¡¨çš„å¯¦éš›è³‡æ–™	å­¸ç”Ÿè¡¨ çš„æ‰€æœ‰è¨˜éŒ„
ç´¢å¼•æ®µ (Index Segment)	å­˜æ”¾ç´¢å¼•çµæ§‹	å­¸ç”Ÿ(å­¸è™Ÿ) ç´¢å¼•
è‡¨æ™‚æ®µ (Temporary Segment)	å­˜æ”¾æŽ’åº/æŸ¥è©¢çš„ä¸­é–“çµæžœ	ORDER BY å§“å
å›žæ»¾æ®µ (Rollback / Undo Segment)	å­˜æ”¾ä¿®æ”¹å‰çš„èˆŠå€¼ï¼Œæ”¯æ´å›žæ»¾èˆ‡ä¸€è‡´æ€§	UPDATE å‰çš„èˆŠè³‡æ–™

âœ… ä¸€å¥è©±ç¸½çµï¼š
Oracle çš„ã€Œæ®µã€å°±æ˜¯è³‡æ–™åº«å­˜æ”¾ä¸åŒé¡žåž‹è³‡è¨Šçš„é‚è¼¯å€å¡Šï¼š

æ•¸æ“šæ®µå­˜è³‡æ–™

ç´¢å¼•æ®µå­˜ç´¢å¼•

è‡¨æ™‚æ®µå­˜ä¸­é–“çµæžœ

å›žæ»¾æ®µå­˜èˆŠè³‡æ–™ï¼ˆæ”¯æ´äº‹å‹™ï¼‰
===========================================================================================================
ä¸€ã€Oracle Databaseã€Œç‰ˆæœ¬ä»£è™Ÿã€ (Release Naming)

Oracle åœ¨ä¸åŒæ™‚ä»£ç”¨ä¸åŒå­—æ¯ä¾†ä»£è¡¨ç”¢å“ç‰¹æ€§ï¼š

ç‰ˆæœ¬	ä»£è™Ÿå«ç¾©	ç¯„ä¾‹
V (Version)	æœ€æ—©çš„ç‰ˆæœ¬å‘½åï¼ŒV2ï¼ˆ1979 å¹´ï¼Œä¸–ç•Œç¬¬ä¸€å€‹å•†æ¥­ SQL RDBMSï¼‰	Oracle V2
i (Internet)	æ”¯æ´ Internet æ‡‰ç”¨ï¼ˆJava, XML, Web æŠ€è¡“ï¼‰	Oracle 8i, 9i
g (Grid)	æ”¯æ´ Grid Computingï¼ˆç¶²æ ¼é‹ç®—ï¼‰	Oracle 10g, 11g
c (Cloud)	æ”¯æ´ Cloud Computingï¼ˆé›²ç«¯ã€å¤šç§Ÿæˆ¶æž¶æ§‹ CDB/PDBï¼‰	Oracle 12c
æ•¸å­—å¹´è™ŸåŒ–	ç›´æŽ¥ç”¨å¹´ä»½è¡¨ç¤ºç‰ˆæœ¬	Oracle 18c (2018), 19c (2019, LTS), 21c (2021)

ðŸ‘‰ ç›®å‰ä¼æ¥­æœ€å¸¸ç”¨çš„æ˜¯ Oracle 19cï¼ˆé•·æœŸæ”¯æ´ç‰ˆï¼Œæœ€ç©©å®šï¼‰ã€‚

ðŸ”¹ äºŒã€Oracle Databaseã€Œç”¢å“ç‰ˆæœ¬ã€ (Editions)

ä¸åŒç‰ˆæœ¬ï¼ˆEditionï¼‰åŠŸèƒ½å·®ç•°ï¼Œæ±ºå®šäº†ä½ èƒ½ç”¨çš„åŠŸèƒ½å’ŒæŽˆæ¬Šæ¨¡å¼ï¼š

Edition	ç°¡ç¨±	åŠŸèƒ½ & é©ç”¨æƒ…å¢ƒ
Enterprise Edition	EE	åŠŸèƒ½æœ€å®Œæ•´ï¼ˆRAC, Partition, é«˜å¯ç”¨æ€§, é«˜éšŽå®‰å…¨æ€§ï¼‰ï¼Œå¤§ä¼æ¥­æ ¸å¿ƒç³»çµ±ä½¿ç”¨ï¼ŒæŽˆæ¬Šæœ€è²´
Standard Edition / Standard Edition 2	SE / SE2	åŠŸèƒ½è¼ƒå°‘ï¼ˆä¸æ”¯æ´ RACã€éƒ¨åˆ†é«˜éšŽåŠŸèƒ½ï¼‰ï¼Œé™åˆ¶ CPU æ•¸ï¼Œé©åˆä¸­å°ä¼æ¥­
Express Edition	XE	å…è²»ï¼ŒåŠŸèƒ½æœ‰é™åˆ¶ï¼ˆ2 CPU, 2GB RAM, 12GB DB é™åˆ¶ï¼‰ï¼Œç”¨æ–¼å­¸ç¿’/æ¸¬è©¦/å°åž‹æ‡‰ç”¨
Personal Edition	PE	å¹¾ä¹Žç­‰åŒ EEï¼Œä½†åƒ…é™å–®æ©Ÿï¼Œé©åˆé–‹ç™¼äººå“¡æœ¬æ©Ÿé–‹ç™¼
Lite Edition	â€“	æ—©æœŸæ‰æœ‰ï¼Œå¾Œä¾†åœç”¨

âœ… ç¸½çµä¸€å¥è©±ï¼š

ã€ŒV/i/g/cã€æ˜¯ç‰ˆæœ¬ä»£è™Ÿ â†’ èªªæ˜Žç•¶æ™‚ Oracle çš„è¨­è¨ˆæ–¹å‘ï¼ˆInternetã€Gridã€Cloud...ï¼‰ã€‚

ã€ŒEE/SE/XE...ã€æ˜¯ç”¢å“ç‰ˆæœ¬ â†’ æ±ºå®šä½ èƒ½ç”¨çš„åŠŸèƒ½å¤šå°‘ã€æŽˆæ¬Šæ¨¡å¼ï¼Œä»¥åŠæˆæœ¬ã€‚
===========================================================================================================
é—œè¯å¼è³‡æ–™åº«ï¼ˆRelational Database, RDBï¼‰ æ˜¯ç›®å‰æœ€å¸¸è¦‹çš„è³‡æ–™åº«æ¨¡åž‹ï¼Œä¾‹å¦‚ MySQLã€PostgreSQLã€SQL Serverã€Oracle ç­‰ã€‚å®ƒçš„æ ¸å¿ƒæ¦‚å¿µæ˜¯ç”¨ è¡¨æ ¼ï¼ˆTableï¼‰ ä¾†å„²å­˜è³‡æ–™ï¼Œä¸¦é€éŽã€Œé—œè¯ï¼ˆRelationï¼‰ã€é€£çµä¸åŒçš„è¡¨æ ¼ã€‚

ðŸ”¹ é—œè¯å¼è³‡æ–™åº«çš„ä¸»è¦ç‰¹æ€§
1. è¡¨æ ¼çµæ§‹åŒ–ï¼ˆStructured as Tablesï¼‰

è³‡æ–™ä»¥ è¡Œï¼ˆRow, Tupleï¼‰ å’Œ åˆ—ï¼ˆColumn, Attributeï¼‰ çš„æ–¹å¼å„²å­˜ã€‚

æ¯ä¸€è¡Œæ˜¯ä¸€ç­†è³‡æ–™ï¼ˆå¯¦é«”ï¼‰ï¼Œæ¯ä¸€åˆ—æ˜¯ä¸€å€‹æ¬„ä½ï¼ˆå±¬æ€§ï¼‰ã€‚

ä¾‹ï¼šå­¸ç”Ÿ è³‡æ–™è¡¨

å­¸è™Ÿ	å§“å	ç³»æ‰€
S001	å°æ˜Ž	è³‡å·¥
S002	å°è¯	è³‡ç®¡
2. é—œè¯æ€§ï¼ˆRelationships Between Tablesï¼‰

è¡¨æ ¼ä¹‹é–“å¯ä»¥é€éŽ ä¸»éµï¼ˆPrimary Keyï¼‰ å’Œ å¤–éµï¼ˆForeign Keyï¼‰ ä¾†å»ºç«‹é—œè¯ã€‚

æ”¯æ´ ä¸€å°ä¸€ã€ä¸€å°å¤šã€å¤šå°å¤š çš„é—œä¿‚ã€‚

ä¾‹ï¼š

å­¸ç”Ÿ(å­¸è™Ÿ) â†â†’ é¸èª²(å­¸è™Ÿ, èª²ç¨‹ç·¨è™Ÿ) â†â†’ èª²ç¨‹(èª²ç¨‹ç·¨è™Ÿ)

3. æ•¸æ“šä¸€è‡´æ€§ï¼ˆData Integrityï¼‰

é—œè¯å¼è³‡æ–™åº«æä¾›å¤šç¨® å®Œæ•´æ€§ç´„æŸï¼ˆIntegrity Constraintsï¼‰ï¼š

å¯¦é«”å®Œæ•´æ€§ï¼šæ¯ä¸€ç­†è³‡æ–™æœ‰å”¯ä¸€çš„ä¸»éµï¼ˆPrimary Keyï¼‰ã€‚

åƒè€ƒå®Œæ•´æ€§ï¼šå¤–éµï¼ˆForeign Keyï¼‰å¿…é ˆå°æ‡‰åˆ°å¦ä¸€å¼µè¡¨ä¸­çš„æœ‰æ•ˆè³‡æ–™ã€‚

åŸŸå®Œæ•´æ€§ï¼šæ¬„ä½çš„è³‡æ–™åž‹åˆ¥å’Œå€¼å¿…é ˆåˆæ³•ï¼ˆä¾‹å¦‚ å¹´é½¡ ä¸èƒ½æ˜¯è² æ•¸ï¼‰ã€‚

4. SQL èªžè¨€æ”¯æ´

ä½¿ç”¨ SQLï¼ˆStructured Query Languageï¼‰ ä¾†é€²è¡Œè³‡æ–™å®šç¾©ï¼ˆDDLï¼‰ã€æ“ä½œï¼ˆDMLï¼‰ã€æŸ¥è©¢ï¼ˆDQLï¼‰èˆ‡æŽ§åˆ¶ï¼ˆTCLï¼‰ã€‚

è®“ä½¿ç”¨è€…èƒ½å¤ æ–¹ä¾¿åœ°é€²è¡Œ æ–°å¢žã€åˆªé™¤ã€ä¿®æ”¹ã€æŸ¥è©¢ã€‚

5. äº‹å‹™ç®¡ç†ï¼ˆTransaction Managementï¼‰

æ”¯æ´ ACID ç‰¹æ€§ï¼ˆåŽŸå­æ€§ã€ä¸€è‡´æ€§ã€éš”é›¢æ€§ã€æŒä¹…æ€§ï¼‰ã€‚

ç¢ºä¿è³‡æ–™åœ¨å¤šç”¨æˆ¶å­˜å–æ™‚ä»ç„¶æ­£ç¢ºï¼Œä¸æœƒå‡ºç¾éŒ¯äº‚ã€‚

6. æ•¸æ“šç¨ç«‹æ€§ï¼ˆData Independenceï¼‰

é‚è¼¯ç¨ç«‹æ€§ï¼šä¿®æ”¹è³‡æ–™è¡¨çš„çµæ§‹ï¼Œä¸ä¸€å®šæœƒå½±éŸ¿æ‡‰ç”¨ç¨‹å¼ã€‚

ç‰©ç†ç¨ç«‹æ€§ï¼šåº•å±¤å­˜æ”¾æ–¹å¼æ”¹è®Šï¼Œä¸å½±éŸ¿ SQL æ“ä½œã€‚

7. é«˜å¯æ“´å±•æ€§èˆ‡å®‰å…¨æ€§

æä¾›ä½¿ç”¨è€…ã€è§’è‰²ã€æ¬Šé™ç®¡ç†ã€‚

æ”¯æ´å¤§è¦æ¨¡è³‡æ–™è™•ç†èˆ‡ç´¢å¼•ï¼ˆIndexï¼‰å„ªåŒ–æŸ¥è©¢ã€‚
===========================================================================================================
ðŸ”¹ 1. å¯¦é«”ï¼ˆEntityï¼‰

ã€Œå¯¦é«”ã€æ˜¯ ç¾å¯¦ä¸–ç•Œä¸­å¯è¢«æ˜Žç¢ºå€åˆ†çš„å€‹é«”ã€‚

åœ¨è³‡æ–™åº«è£¡ï¼Œé€šå¸¸å°æ‡‰åˆ°ä¸€ç­†ã€Œè³‡æ–™åˆ—ï¼ˆrow, recordï¼‰ã€ã€‚

ä¾‹ï¼šæŸå€‹å­¸ç”Ÿï¼ˆå­¸è™Ÿ S001ã€åå­—å°æ˜Žï¼‰å°±æ˜¯ä¸€å€‹ã€Œå¯¦é«”ã€ã€‚

ðŸ”¹ 2. å¯¦é«”åž‹ï¼ˆEntity Typeï¼‰

å¯¦é«”åž‹ å°±æ˜¯ã€ŒæŸä¸€é¡žå¯¦é«”çš„åž‹åˆ¥æˆ–æè¿°ã€ï¼Œå¯ä»¥ç†è§£ç‚ºã€Œé¡žåˆ¥ï¼ˆclassï¼‰ã€ã€‚

å®ƒæè¿°ä¸€ç¾¤æ€§è³ªç›¸åŒçš„ç‰©ä»¶æ‡‰è©²æœ‰å“ªäº›å±¬æ€§ã€‚

åœ¨è³‡æ–™åº«è£¡ï¼Œé€šå¸¸å°æ‡‰åˆ°ä¸€å¼µã€Œè³‡æ–™è¡¨ï¼ˆtable schemaï¼‰ã€ã€‚

ðŸ“Œ ä¾‹å­ï¼š

å­¸ç”Ÿï¼ˆStudentï¼‰å°±æ˜¯ä¸€å€‹å¯¦é«”åž‹ã€‚

å®ƒå®šç¾©äº†å­¸ç”Ÿæ‡‰è©²æœ‰çš„å±¬æ€§ï¼šå­¸è™Ÿã€å§“åã€ç”Ÿæ—¥ã€‚

ðŸ”¹ 3. å¯¦é«”é›†ï¼ˆEntity Setï¼‰

å¯¦é«”é›† æ˜¯æŸå€‹å¯¦é«”åž‹ä¸‹ï¼Œæ‰€æœ‰ã€Œå¯¦é«”çš„é›†åˆã€ã€‚

åœ¨è³‡æ–™åº«è£¡ï¼Œå°æ‡‰åˆ°ã€Œè³‡æ–™è¡¨ä¸­æ‰€æœ‰çš„è³‡æ–™åˆ—ã€ã€‚

ðŸ“Œ ä¾‹å­ï¼š

å¦‚æžœã€Œå­¸ç”Ÿã€æ˜¯å¯¦é«”åž‹ï¼Œé‚£éº¼æ‰€æœ‰åœ¨æ ¡å­¸ç”Ÿï¼ˆå°æ˜Žã€å°è¯ã€å°ç¾Žâ€¦ï¼‰å°±æ˜¯ã€Œå­¸ç”Ÿå¯¦é«”é›†ã€ã€‚

ç”¨ SQL è¡¨ç¤ºï¼š

å­¸ç”Ÿ (S001, å°æ˜Ž, 2001-01-01)

å­¸ç”Ÿ (S002, å°è¯, 2002-02-02)

å­¸ç”Ÿ (S003, å°ç¾Ž, 2001-03-03)
â†’ é€™äº›åŠ èµ·ä¾†å°±æ˜¯ã€Œå­¸ç”Ÿå¯¦é«”é›†ã€ã€‚

ðŸ”¹ ç°¡å–®å°ç…§è¡¨
æ¦‚å¿µ	èªªæ˜Ž	è³‡æ–™åº«å°æ‡‰	ç¯„ä¾‹
å¯¦é«”ï¼ˆEntityï¼‰	ç¾å¯¦ä¸–ç•Œä¸­çš„ã€Œå€‹é«”ã€	ä¸€ç­†è³‡æ–™ï¼ˆrowï¼‰	å­¸è™Ÿ S001 çš„å°æ˜Ž
å¯¦é«”åž‹ï¼ˆEntity Typeï¼‰	æè¿°ä¸€é¡žå¯¦é«”çš„ã€Œåž‹åˆ¥ã€	è³‡æ–™è¡¨çš„çµæ§‹ï¼ˆschemaï¼‰	å­¸ç”Ÿ (å­¸è™Ÿ, å§“å, ç”Ÿæ—¥)
å¯¦é«”é›†ï¼ˆEntity Setï¼‰	æŸå€‹å¯¦é«”åž‹ä¸‹æ‰€æœ‰å¯¦é«”çš„é›†åˆ	æ•´å¼µè³‡æ–™è¡¨ï¼ˆtableï¼‰	å­¸ç”Ÿè¡¨è£¡çš„æ‰€æœ‰å­¸ç”Ÿè³‡æ–™

âœ… ä¸€å¥è©±ç¸½çµï¼š

å¯¦é«”åž‹ï¼šè¦æ ¼ â†’ å®šç¾©ã€Œå­¸ç”Ÿã€æ‡‰è©²æœ‰å“ªäº›å±¬æ€§

å¯¦é«”ï¼šå€‹é«” â†’ å°æ˜Žæ˜¯æŸå€‹å­¸ç”Ÿ

å¯¦é«”é›†ï¼šç¾¤é«” â†’ å­¸ç”Ÿè¡¨è£¡çš„æ‰€æœ‰å­¸ç”Ÿ
===========================================================================================================
ER åœ–ï¼ˆEntity-Relationship Diagramï¼Œå¯¦é«”é—œè¯åœ–ï¼‰ æ˜¯è³‡æ–™åº«è¨­è¨ˆä¸­å¸¸ç”¨çš„åœ–è¡¨ï¼Œç”¨ä¾†æè¿° è³‡æ–™åº«çš„çµæ§‹ï¼Œç‰¹åˆ¥æ˜¯ã€Œè³‡æ–™è¡¨ä¹‹é–“çš„é—œä¿‚ã€ã€‚

ðŸ”¹ ER åœ–çš„åŸºæœ¬å…ƒç´ 

Entityï¼ˆå¯¦é«”ï¼‰

å°±æ˜¯ç¾å¯¦ä¸–ç•Œä¸­çš„ã€Œç‰©ä»¶ã€æˆ–ã€Œæ¦‚å¿µã€ï¼Œåœ¨è³‡æ–™åº«è£¡é€šå¸¸æœƒè®Šæˆä¸€å¼µã€Œè³‡æ–™è¡¨ã€ã€‚

ç”¨ çŸ©å½¢ è¡¨ç¤ºã€‚

ä¾‹å¦‚ï¼šå­¸ç”Ÿã€èª²ç¨‹ã€è¨‚å–®ã€‚

Attributeï¼ˆå±¬æ€§ï¼‰

å¯¦é«”çš„ç‰¹å¾µï¼Œä¹Ÿå°±æ˜¯ã€Œæ¬„ä½ã€ã€‚

ç”¨ æ©¢åœ“å½¢ è¡¨ç¤ºã€‚

ä¾‹å¦‚ï¼šå­¸ç”Ÿ æœ‰ å­¸è™Ÿã€å§“åã€ç”Ÿæ—¥ã€‚

Relationshipï¼ˆé—œè¯ï¼‰

å¯¦é«”ä¹‹é–“çš„é—œä¿‚ã€‚

ç”¨ è±å½¢ è¡¨ç¤ºã€‚

ä¾‹å¦‚ï¼šå­¸ç”Ÿ é¸ä¿® èª²ç¨‹ã€‚

ðŸ”¹ é—œä¿‚çš„ç¨®é¡ž

åœ¨ ER åœ–ä¸­ï¼Œå¯¦é«”ä¹‹é–“çš„é—œä¿‚æœ‰å¹¾ç¨®å¸¸è¦‹é¡žåž‹ï¼š

ä¸€å°ä¸€ (1:1)

ä¸€å€‹å¯¦é«”å°æ‡‰åˆ°å¦ä¸€å€‹å¯¦é«”çš„ã€Œå”¯ä¸€ã€è³‡æ–™ã€‚

ä¾‹ï¼šæ¯å€‹äººåªæœ‰ä¸€å€‹èº«åˆ†è­‰ã€‚

ä¸€å°å¤š (1:N)

ä¸€å€‹å¯¦é«”å¯ä»¥å°æ‡‰åˆ°å¤šå€‹å¦ä¸€å€‹å¯¦é«”ã€‚

ä¾‹ï¼šä¸€å€‹ã€Œè€å¸«ã€å¯ä»¥æ•™å¤šé–€ã€Œèª²ç¨‹ã€ã€‚

å¤šå°å¤š (M:N)

ä¸€å€‹å¯¦é«”çš„å¤šå€‹è³‡æ–™å¯ä»¥å°æ‡‰åˆ°å¦ä¸€å€‹å¯¦é«”çš„å¤šå€‹è³‡æ–™ã€‚

ä¾‹ï¼šå­¸ç”Ÿå¯ä»¥é¸å¤šé–€èª²ç¨‹ï¼Œä¸€é–€èª²ç¨‹ä¹Ÿèƒ½è¢«å¤šå€‹å­¸ç”Ÿé¸ä¿®ã€‚

ðŸ”¹ ER åœ–çš„ç”¨é€”

å¹«åŠ© è³‡æ–™åº«è¨­è¨ˆå¸« è¦åŠƒè¡¨æ ¼å’Œæ¬„ä½ã€‚

æä¾›åœ˜éšŠæºé€šçš„è¦–è¦ºåŒ–æ¨¡åž‹ã€‚

åœ¨ è½‰æ›æˆé—œè¯å¼è³‡æ–™åº« å‰ï¼Œå…ˆæŠŠéœ€æ±‚å…·é«”åŒ–ã€‚

âœ… ä¸€å¥è©±ç¸½çµï¼š
ER åœ–æ˜¯ä¸€ç¨®ç”¨ã€Œåœ–å½¢æ–¹å¼ã€è¨­è¨ˆè³‡æ–™åº«çµæ§‹çš„æ–¹æ³•ï¼ŒæŠŠ å¯¦é«”ï¼ˆè¡¨æ ¼ï¼‰ã€å±¬æ€§ï¼ˆæ¬„ä½ï¼‰ å’Œ é—œè¯ï¼ˆè¡¨æ ¼é—œä¿‚ï¼‰ è¦–è¦ºåŒ–ã€‚
===========================================================================================================
åœ¨è³‡æ–™åº«è£¡ï¼Œäº‹å‹™ï¼ˆTransactionï¼‰ æ˜¯ä¸€å€‹ ä¸å¯åˆ†å‰²çš„å·¥ä½œå–®ä½ï¼Œç”¨ä¾†ç¢ºä¿è³‡æ–™çš„ä¸€è‡´æ€§èˆ‡æ­£ç¢ºæ€§ã€‚

ðŸ”¹ äº‹å‹™çš„å®šç¾©

äº‹å‹™å°±æ˜¯ä¸€çµ„ SQL æ“ä½œï¼ˆé€šå¸¸æ˜¯å¤šå€‹ DML èªžå¥ï¼‰ï¼Œè¦å˜› å…¨éƒ¨æˆåŠŸï¼Œè¦å˜› å…¨éƒ¨å¤±æ•—ã€‚

å¦‚æžœä¸­é€”å‡ºéŒ¯ï¼Œäº‹å‹™å¯ä»¥å›žæ»¾ï¼ˆRollbackï¼‰åˆ°åŸ·è¡Œå‰çš„ç‹€æ…‹ï¼Œé¿å…è³‡æ–™åº«é€²å…¥ã€Œä¸ä¸€è‡´ã€çš„ç‹€æ³ã€‚

ðŸ‘‰ å¯ä»¥æƒ³åƒæˆï¼šã€ŒéŠ€è¡Œè½‰å¸³ã€å°±æ˜¯å…¸åž‹äº‹å‹™ã€‚

A çš„å¸³æˆ¶æ‰£ 100 å…ƒ

B çš„å¸³æˆ¶åŠ  100 å…ƒ
é€™å…©å€‹å‹•ä½œå¿…é ˆåŒæ™‚å®Œæˆï¼›å¦‚æžœåªå®Œæˆä¸€åŠï¼Œè³‡æ–™å°±éŒ¯äº‚äº†ã€‚

ðŸ”¹ äº‹å‹™çš„ 4 å¤§ç‰¹æ€§ï¼ˆACIDï¼‰

äº‹å‹™æœ€é‡è¦çš„å°±æ˜¯ ACID åŽŸå‰‡ï¼š

Atomicityï¼ˆåŽŸå­æ€§ï¼‰

äº‹å‹™ä¸­çš„æ‰€æœ‰æ“ä½œè¦å˜›å…¨éƒ¨å®Œæˆï¼Œè¦å˜›å…¨éƒ¨ä¸åšã€‚

å°±åƒåŽŸå­ä¸å¯å†åˆ†ï¼Œäº‹å‹™ä¹Ÿæ˜¯ã€Œä¸å¯åˆ†å‰²ã€ã€‚

Consistencyï¼ˆä¸€è‡´æ€§ï¼‰

äº‹å‹™åŸ·è¡Œå‰å¾Œï¼Œè³‡æ–™åº«è¦ä¿æŒä¸€è‡´çš„ç‹€æ…‹ã€‚

ä¾‹å¦‚éŠ€è¡Œè½‰å¸³ï¼Œç¸½é‡‘é¡ä¸æœƒæ†‘ç©ºæ¶ˆå¤±æˆ–å¢žåŠ ã€‚

Isolationï¼ˆéš”é›¢æ€§ï¼‰

å¤šå€‹äº‹å‹™åŒæ™‚é€²è¡Œæ™‚ï¼Œå½¼æ­¤ä¸æ‡‰äº’ç›¸å¹²æ“¾ã€‚

å°±åƒåŒæ™‚æœ‰å…©å€‹äººè½‰å¸³ï¼Œçµæžœä¸èƒ½æ··äº‚ã€‚

Durabilityï¼ˆæŒä¹…æ€§ï¼‰

äº‹å‹™ä¸€æ—¦æäº¤ï¼ˆCommitï¼‰ï¼Œçµæžœå°±æœƒæ°¸ä¹…ä¿å­˜åœ¨è³‡æ–™åº«ï¼Œä¸æœƒå› ç³»çµ±æ•…éšœè€Œæ¶ˆå¤±ã€‚

ðŸ”¹ å¸¸è¦‹çš„äº‹å‹™æŽ§åˆ¶æŒ‡ä»¤ (TCL)

BEGIN æˆ– START TRANSACTION â†’ é–‹å§‹äº‹å‹™

COMMIT â†’ æäº¤ï¼Œè®“äº‹å‹™çš„ä¿®æ”¹æ°¸ä¹…ç”Ÿæ•ˆ

ROLLBACK â†’ å›žæ»¾ï¼Œæ’¤éŠ·äº‹å‹™ä¸­çš„æ“ä½œ

SAVEPOINT â†’ è¨­å®šäº‹å‹™çš„å„²å­˜é»žï¼Œå¯ä»¥å›žæ»¾åˆ°ç‰¹å®šä½ç½®
===========================================================================================================
DDLï¼ˆData Definition Languageï¼Œè³‡æ–™å®šç¾©èªžè¨€ï¼‰

ç”¨ä¾† å®šç¾©æˆ–ä¿®æ”¹è³‡æ–™åº«çš„çµæ§‹ï¼Œä¾‹å¦‚å»ºç«‹ã€åˆªé™¤æˆ–ä¿®æ”¹ è³‡æ–™è¡¨ã€ç´¢å¼•ã€æž¶æ§‹ ç­‰ã€‚
å±¬æ–¼ çµæ§‹å±¤ç´šçš„æ“ä½œã€‚

å¸¸è¦‹æŒ‡ä»¤ï¼š

CREATEï¼šå»ºç«‹ï¼ˆè³‡æ–™åº«ã€è³‡æ–™è¡¨ã€ç´¢å¼•â€¦ï¼‰

ALTERï¼šä¿®æ”¹ï¼ˆè³‡æ–™è¡¨çµæ§‹ã€æ¬„ä½åž‹åˆ¥â€¦ï¼‰

DROPï¼šåˆªé™¤ï¼ˆè³‡æ–™è¡¨ã€ç´¢å¼•ã€è³‡æ–™åº«â€¦ï¼‰

TRUNCATEï¼šæ¸…ç©ºè³‡æ–™è¡¨å…§å®¹ï¼ˆä½†ä¿ç•™çµæ§‹ï¼‰

ðŸ“Œ ç‰¹æ€§ï¼š

æœƒç›´æŽ¥å½±éŸ¿è³‡æ–™åº«çµæ§‹ã€‚

å¤šæ•¸ DDL æŒ‡ä»¤åŸ·è¡Œå¾Œ ç„¡æ³•å›žæ»¾ (Rollback)ã€‚

ðŸ”¹ DMLï¼ˆData Manipulation Languageï¼Œè³‡æ–™æ“ä½œèªžè¨€ï¼‰

ç”¨ä¾† æ“ä½œè³‡æ–™å…§å®¹ï¼Œä¾‹å¦‚æ–°å¢žã€åˆªé™¤ã€ä¿®æ”¹æˆ–æŸ¥è©¢è³‡æ–™è¡¨ä¸­çš„è³‡æ–™åˆ—ã€‚
å±¬æ–¼ è³‡æ–™å±¤ç´šçš„æ“ä½œã€‚

å¸¸è¦‹æŒ‡ä»¤ï¼š

INSERTï¼šæ–°å¢žè³‡æ–™

UPDATEï¼šä¿®æ”¹è³‡æ–™

DELETEï¼šåˆªé™¤è³‡æ–™

SELECTï¼šæŸ¥è©¢è³‡æ–™ï¼ˆæœ‰æ™‚è¢«æ­¸é¡žç‚º DQLï¼ŒData Query Languageï¼Œä½†é€šå¸¸ä¹Ÿç®— DMLï¼‰

ðŸ“Œ ç‰¹æ€§ï¼š

ä¸»è¦é‡å° è³‡æ–™æœ¬èº«ã€‚

å¯æ­é… äº¤æ˜“æŽ§åˆ¶èªžè¨€ (TCL)ï¼ˆä¾‹å¦‚ COMMIT, ROLLBACKï¼‰ä¾†æŽ§åˆ¶ã€‚

âœ… ç¸½çµ

DDLï¼šæ”¹ã€Œæˆ¿å­çµæ§‹ã€ â†’ å»ºç«‹/æ‹†é™¤/æ”¹é€ è¡¨æ ¼

DMLï¼šæ”¹ã€Œæˆ¿å­è£¡çš„æ±è¥¿ã€ â†’ æ–°å¢ž/ä¿®æ”¹/åˆªé™¤è³‡æ–™
===========================================================================================================
DBMS: æ•¸æ“šåº«ç®¡ç†ç³»çµ± > ç®¡æ•¸æ“šåº«çš„
ç”¨æˆ¶ > DBMS > ç®¡ç†æ•¸æ“šåº«
ä½æ–¼ç”¨æˆ¶èˆ‡æ“ä½œç³»çµ±ä¹‹é–“çš„ä¸€å±¤æ•¸æ“šç®¡ç†ç³»çµ±
===========================================================================================================
æ•¸æ“š > æ•¸æ“šå­˜æ”¾çš„å€‰åº« < æ•¸æ“šåº«ç®¡ç†ç³»çµ± < æ•¸æ“šåº«ç³»çµ±
===========================================================================================================
æ•¸æ“šåº«ç‰¹é»ž
1.æ°¸ä¹…2.æœ‰çµ„ç¹”3.å¯å…±äº«
===========================================================================================================