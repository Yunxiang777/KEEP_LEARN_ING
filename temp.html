在模塊中，引入文件
如果導入的，是文件夾，首先會先檢測package.json中的main字段所對應的文件，
如果沒有package.json，則會尋找index.js或index.json或index.node文件。
如果都沒有，則會報錯。

require導入流程
1. 解析路徑: 將相對路徑轉為絕對路徑
2. 緩存檢查: 檢查模塊是否已經加載過，若是，則直接返回緩存中的exports對象
3. 模塊加載: 根據文件類型（.js, .json, .node）選擇相應的加載方式
4. 編譯執行: 對於.js文件，會將代碼包裝在一個函數中執行，並傳入exports, require, module, __filename, __dirname等參數
5. 緩存存儲: 將加載後的模塊存入緩存，以便下次使用
存是存在於 Node.js 的「伺服器端記憶體」中，
存在於全域物件 require.cache，
讓模組只加載與執行一次，後續再呼叫都直接回傳快取結果。


所以是存在 ram?，那如果重新執行code，他會再重複存入? 除非同一個動作用到兩次? 因為ram應該是執行完就釋放才對
✅ 是的，require.cache 存在 RAM（記憶體）裡。
它只在「這次 Node.js 程式執行期間」有效。

一旦程式結束，process 終止 → 記憶體釋放 → 緩存消失。

我意思是說，如果我有個api，他有require，那當我第二次重新call這個api，他部會去撈緩存

🧠 你的情境：

你有個 Node.js 伺服器（例如 Express），裡面有一個 API route。
該 route 內用了 require() 來載入某個模組。

然後你問：

「我第二次呼叫同一個 API，Node 會再去 require 一次，還是會用緩存？」

✅ 答案（先講結論）：

❌ 不會重新載入。
✅ 會直接使用 第一次 require() 時放進記憶體中的快取結果。

只要：

你的伺服器程式（process）仍然在執行中（沒被重啟），

且你沒有手動清空 require.cache，

那麼所有後續的 API 呼叫，
都會直接用到第一次載入時的 require.cache 內容。

何時才會重新載入？

以下幾種情況會導致 require 重新載入模組：

狀況 結果
伺服器重啟（Node process 結束） 緩存清空，重新載入
手動清空：delete require.cache[...] 重新載入
使用 hot reload 工具（例如 nodemon） 會重新啟動 process，自然重載
動態讀取（例如 fs.readFileSync() 自行載入代碼） 不經過 require.cache，可重新執行

再補一點「時機」觀念：

Node.js 模組載入是 全域共用 的。
也就是說，只要整個伺服器 process 中的任何一個地方 require 過一次，
那整個應用程式其他地方再 require 同一個路徑，
都會共用同一份快取（即使不同 API）。

✅ 結論一句話：

在 Node.js API（例如 Express）中，
只要伺服器 process 還沒重啟，
require() 只會在第一次載入模組時執行一次，
之後所有 API 呼叫都直接使用記憶體快取結果。

📦 bundle.js 是什麼？

bundle.js 是前端專案「打包後」產生的 JavaScript 檔案。
它通常由打包工具（如 Webpack、Vite、Rollup 等）自動生成，
用來把原本分散在多個 .js 檔裡的程式整合成一個或多個可以讓瀏覽器直接執行的檔案。

打包後的結構範例

原始專案：

src/
├── index.js
├── about.js
├── utils/
│ └── helper.js


打包後：

dist/
├── main.bundle.js
├── about.bundle.js
└── vendor.bundle.js

💡 .bundle.js 的命名說明

.bundle.js 只是開發者慣例，意思是「打包後的 JavaScript」

也可命名為 .min.js、.app.js、或加上 hash，例如：

main.9f2a8c.bundle.js

🧾 總結一句話

bundle.js 是前端專案打包後產生的 JavaScript 檔案，
它整合所有模組與相依套件，讓瀏覽器能直接載入與執行。

每個頁面或功能可能對應不同的 xxx.bundle.js，
而不是整個專案只有一個。

npm（Node Package Manager）是 Node.js 的套件管理工具，
用來下載、安裝、更新、分享 JavaScript 套件（packages）。

🧩 npm 是誰？

npm 是 Node.js 官方內建 的工具。

當你安裝 Node.js 時，就會自動附帶 npm。

它的名字是：

node package manager

🔹 npm 就像「App Store」，
你要什麼功能，就透過 npm 安裝「套件（package）」來用。

他是 nodejs內建的，為甚麼react vite 或其他js生態系也會使用到?

🧩 一、npm 是「Node.js 的」，但不只給 Node 用

確實，npm 最早 是為了 Node.js 設計的：
→ 它原本只是管理「後端用的 JavaScript 套件」的工具。

但是隨著時間發展：

前端框架（React、Vue、Angular）

打包工具（Vite、Webpack、Rollup）
都需要用大量第三方套件（library）。
這些套件的管理方式，npm 已經幫大家設計好了。

👉 所以整個 JavaScript 世界乾脆「共用 npm 這套管理機制」。

⚙️ 二、npm 是「生態系的中心倉庫」

現在 npm 的地位就像：

💡 「所有 JavaScript 世界的 App Store」

不管你寫：

Node.js（後端）

React / Vue（前端）

Electron（桌面應用）

或是工具（像 Babel、ESLint、Vite）

它們的第三方模組（dependencies）
👉 全部都放在 npm 平台（npmjs.com）。

npx create-react-app myapp 是甚麼意思?
npx 是甚麼意思?

🧩 一、先看整句命令：
npx create-react-app myapp


這句話的意思是：

💡 「用 npx 執行一個叫 create-react-app 的工具，
幫我建立一個新的 React 專案，資料夾名稱叫 myapp。」

⚙️ 二、什麼是 npx？

npx 是 npm 附帶的工具，用來「執行 npm 套件」而不需要先安裝它。

從 npm 5.2 版（Node.js 8.2 之後）開始，
npm 就自帶 npx。

🧠 舉例說明

假設你要用一個 npm 套件（例如 cowsay）：

方式一：傳統做法（要先安裝）
npm install cowsay -g
cowsay "Hello"

方式二：用 npx（直接執行，無需安裝）
npx cowsay "Hello"


npx 會：

檢查本地或全域有沒有這個套件；

如果沒有，就暫時下載一份；

執行完後自動清理。

👉 所以它是一個「臨時執行器」。

⚡ 三、那 create-react-app 是什麼？

create-react-app（簡稱 CRA）是 React 官方提供的腳手架工具（scaffolding tool），
用來自動建立 React 專案的基本架構。

你用這句：

npx create-react-app myapp


它會：

下載 create-react-app 套件（臨時的，不安裝進全域）

執行裡面的程式碼

幫你建立一個 React 專案目錄

裡面包含：

myapp/
├── node_modules/
├── package.json
├── public/
├── src/
└── README.md


完成後你就可以進去：

cd myapp
npm start


開發伺服器就會跑起來 🚀

🧾 四、npx vs npm 的差別
指令 全名 功能 用法
npm Node Package Manager 安裝 / 管理套件 npm install react
npx Node Package eXecute 執行套件（不用先安裝） npx create-react-app myapp

📌 簡單記法：

npm → 管理套件
npx → 執行套件

🧱 五、延伸範例
例 1：執行某個 npm 套件
npx eslint .


→ 執行 ESLint 程式碼檢查，不需安裝全域 ESLint。

例 2：指定版本
npx create-react-app@5.0.1 myapp


→ 用指定版本的 CRA 建專案。

例 3：避免全域污染

傳統上很多人會用：

npm install -g create-react-app


但這樣會在系統全域裝 CRA，版本容易過期。
用 npx 就能：

不汙染全域環境

永遠下載最新版使用
那如果我使用 npm install -g create-react-app，
接下來我如何執行react?

🧩 一、你剛做了什麼？

這條指令：

npm install -g create-react-app


意思是：

把「create-react-app」這個套件安裝在全域（global）環境中。

這代表：

你的電腦任何地方都可以直接執行 create-react-app 指令。

二、接下來要如何執行？

安裝好以後，你可以直接用下面這句來建立 React 專案：

create-react-app myapp


這就跟：

npx create-react-app myapp


是一樣的效果 ✅
只差在前者用的是「你全域安裝的版本」，後者用的是「臨時下載的最新版」。

📦 三、建立好 React 專案後會發生什麼？

執行完：

create-react-app myapp


之後，會自動幫你產生一個資料夾結構：

myapp/
├── node_modules/
├── package.json
├── public/
├── src/
└── README.md


這時你進到這個資料夾：

cd myapp


接著執行：

npm start


💡 這行會執行 React 專案裡設定好的「啟動指令」，開啟開發伺服器（通常是 localhost:3000）。

🧠 四、總結成流程圖
npm install -g create-react-app ← 全域安裝一次
↓
create-react-app myapp ← 建立新專案
↓
cd myapp ← 進入專案資料夾
↓
npm start ← 啟動 React 專案
↓
(瀏覽器開啟 http://localhost:3000)